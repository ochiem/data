<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> BINANCE - BSC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.7.0/css/uikit.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.7.0/js/uikit.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

    <link rel="icon" href="https://seeklogo.com/images/B/binance-smart-chain-bsc-logo-9C34053D61-seeklogo.com.png" type="image/x-icon">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/7.3.67/css/materialdesignicons.min.css"
        integrity="sha512-nRzny9w0V2Y1/APe+iEhKAwGAc+K8QYCw4vJek3zXhdn92HtKt226zHs9id8eUq+uYJKaH2gPyuLcaG/dE5c7A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
        integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<style>
    #scanprogress {
        font-size: 16px;
        color: #0b0808;
    }

    #scanbar {
        text-align: center;
        width: 100%;
        height: 21px;
        border: 1px solid #000;
        margin: 5px 0px;
    }

    #bar {
        width: 100%;
        background-color: #fcdb9e;
        height: 100%;
    }

    .binance {
        text-align: center;
        background-color: rgb(250 189 36);
        /* Ganti dengan warna yang Anda inginkan */
    }

    img:hover {
        transform: scale(1.5);
        /* You can adjust the scale factor as needed */
    }

    a {
        color: black;
    }

    a:hover {
        color: rgb(0, 4, 128);
    }

    .ijo {
        color: black;
        background-color: rgb(231 255 127);
    }

    .limit {
        color: rgb(4, 0, 0);
        background-color: rgb(164, 190, 245);
    }

    .merah {
        color: rgb(250, 249, 249);
        background-color: #f5a29f !important;
    }

    .error {
        color: #f9f7f7 !important;
        background-color: #ec8a44 !important;
    }

    .INCH {
        text-align: center;
        background-color: #f0ebdc;
        /* Ganti desngan warna yang Anda inginkan */
    }

    .MATCHA {
        text-align: center;
        background-color: #abd2fb;
        /* Ganti dengan warna yang Anda inginkan */
    }

    .ODOS {
        text-align: center;
        background-color: rgb(220, 255, 231);
        /* Ganti dengan warna yang Anda inginkan */
    }

    .uk-container {
        width: 96%;
        max-width: none;
    }

    .sticky-header {
        position: -webkit-sticky;
        position: sticky;
        top: 0;

    }

    /* Style untuk sel dalam header */
    .sticky-header th {
        background-color: #fcdb9e;
        font-weight: bold;
        font-size: large;
        text-align: center;
        font-size: 14px;
        height: 20px;
        vertical-align: middle;
        margin: 3px 0px;
    }

    /* Style untuk isi tabel */
    .table-content {
        overflow-y: auto;
        max-height: 850px;
        /* Tentukan ketinggian maksimum tabel yang ingin Anda tampilkan */
    }

    .uk-table td,
    .uk-table th {
        margin: 1px 0px;
        /* Ubah nilai margin sesuai kebutuhan */
        padding: 2px 1px;
        /* Ubah nilai padding sesuai kebutuhan */
        font-size: 12px;
        vertical-align: middle;
    }

    .uk-table-striped-custom>tbody>tr:nth-child(4n-3),
    .uk-table-striped-custom>tbody>tr:nth-child(4n-2) {
        background-color: #f0f0f0;
        /* Warna striping disesuaikan sesuai keinginan Anda */
    }

    .custom-thead input[type="number"] {
        background-color: inherit;
        padding: 5px;
        border: none;
        width: 60px;
        /* Adjust the width as needed */
        text-align: center;
        /* Center the text within the input */
    }

    /* Style $ symbol next to the input elements */
    .custom-thead th input[type="number"]::after {
        content: "$";
        margin-left: 0px;
        /* Adjust the margin as needed */
        color: inherit;
    }

    /* Optional: Style the $ symbol inside the input for better alignment */
    .custom-thead th input[type="number"] {
        padding-right: 0px;
        /* Adjust the padding as needed */
        box-sizing: border-box;
        color: red;
    }
</style>

<body>
    <hr />
    <h3 style="color:#d79719; margin:0px 0px; text-align: center;"> BINANCE BSC MULTICHECKER v8
        [&nbsp;
        <img id="bukaKUNCI" title="BUKA AKSES" onclick="UIkit.modal('#modal-login').show()"
            src="https://cdn-icons-png.flaticon.com/512/9350/9350726.png" width="22px" />
        <img id="syncDATA" title="SINKRONISASI DATA"
            src="https://cdn.icon-icons.com/icons2/2596/PNG/512/database_sync_icon_155524.png" width="26px" />
        <img id="cek-modal" title="SETUP MODAL & SCANNER" src="https://cdn-icons-png.flaticon.com/512/7588/7588701.png"
            width="26px" />
        <img id="cek_wallet" title="CEK WALLET BINANCE" src="https://cdn-icons-png.flaticon.com/512/3757/3757881.png"
            width="26px" />

        <a href="modal_all.html" target="_blank"> <img title="APLIKASI MODAL"
                src="https://cdn-icons-png.flaticon.com/512/4021/4021642.png" width="26px" /></a>

        &nbsp;]
    </h3>
    <!-- Modal INPUTAN -->
    <div id="modal-setting" class="uk-modal-full" uk-modal>
        <div class="uk-modal-dialog">
            <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
            <div class="uk-modal-header">
                <h2 class="uk-modal-title">:: SETTING DEX CHECKER</h2>

            </div>
            <div class="uk-modal-body">
                <form>
                    <!-- Grid UIkit untuk 2 kolom -->
                    <div class="uk-grid-small" uk-grid>

                        <div class="uk-width-1-2">

                            <!-- Kolom pertama -->
                            <div class="uk-card uk-card-default uk-card-body">
                                <h3 style="text-align: center; margin: 12px 0px; color: #1317e1;">:: SETINGAN PERMODALAN
                                </h3>
                                <!-- Modal 1INCH -->
                                <h5 style="margin: 12px 0px;color: #e4322c;">Modal 1INCH</h5>

                                <!-- Modal Kecil -->
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecil1INCH" class="uk-text-primary">Kiri</label>
                                        <input type="number" id="mKiriKecil1INCH" class="uk-input" value="" required>
                                    </div>
                                    <div>
                                        <label for="mKananKecil1INCH" class="uk-text-success">Kanan</label>
                                        <input type="number" id="mKananKecil1INCH" class="uk-input" value="" required>
                                    </div>
                                </div>

                                <h5 style="margin: 12px 0px; color: #e4322c;">Modal ODOS</h5>
                                <!-- Modal Kecil -->
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecilODOS" class="uk-text-primary">Kiri</label>
                                        <input type="number" id="mKiriKecilODOS" class="uk-input" value="" required>
                                    </div>

                                    <div>
                                        <label for="mKananKecilODOS" class="uk-text-primary">Kanan</label>
                                        <input type="number" id="mKananKecilODOS" class="uk-input" value="" required>
                                    </div>
                                </div>

                                <!-- Modal MATCHA -->
                                <h5 style="margin: 12px 0px; color: #e4322c;">Modal MATCHA</h5>
                                <!-- Modal Kecil -->
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecilMATCHA" class="uk-text-primary">Kiri </label>
                                        <input type="number" id="mKiriKecilMATCHA" class="uk-input" value="" required>
                                    </div>
                                    <div>
                                        <label for="mKananKecilMATCHA" class="uk-text-success">Kanan </label>
                                        <input type="number" id="mKananKecilMATCHA" class="uk-input" value="" required>
                                    </div>
                                </div>

                                <!-- Modal KYBER -->
                                <h5 style="margin: 12px 0px; color: #e4322c;">Modal KYBER</h5>
                                <!-- Modal Kecil -->
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecilKYBER" class="uk-text-primary">Kiri </label>
                                        <input type="number" id="mKiriKecilKYBER" class="uk-input" value="" required>
                                    </div>
                                    <div>
                                        <label for="mKananKecilKYBER" class="uk-text-success">Kanan </label>
                                        <input type="number" id="mKananKecilKYBER" class="uk-input" value="" required>
                                    </div>
                                </div>

                                <!-- Modal PARASWAP -->
                                <h5 style="margin: 12px 0px; color: #e4322c;">Modal PARASWAP</h5>
                                <!-- Modal Kecil -->
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecilPARASWAP" class="uk-text-primary">Kiri </label>
                                        <input type="number" id="mKiriKecilPARASWAP" class="uk-input" value="" required>
                                    </div>
                                    <div>
                                        <label for="mKananKecilPARASWAP" class="uk-text-success">Kanan </label>
                                        <input type="number" id="mKananKecilPARASWAP" class="uk-input" value=""
                                            required>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="uk-width-1-2">
                            <!-- Kolom kedua -->
                            <div class="uk-card uk-card-default uk-card-body">
                                <h3 style="text-align: center; margin: 12px 0px; color: #1317e1;">:: SETINGAN SCANNER
                                </h3>

                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label class="uk-text-warning">FILTER PNL</label><br />
                                        <input class="uk-input" type="number" id="inFilterPNL" value="0"
                                            name="filterpnl">
                                    </div>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <div>
                                        <label class="uk-text-warning">SPEEDSCAN</label><br />
                                        <label class="uk-form-label uk-text-success"><input class="uk-radio"
                                                type="radio" value="5" checkbox name="waktu-tunggu"> Normal </label>
                                        <label class="uk-form-label uk-text-success"><input class="uk-radio"
                                                type="radio" value="4" name="waktu-tunggu"> Medium </label>
                                        <label class="uk-form-label uk-text-success"><input class="uk-radio"
                                                type="radio" value="3" name="waktu-tunggu"> Fast </label>
                                    </div>
                                </div>
                                <hr />
                                <h5>
                                    <label for="koin-group" class="uk-text-danger">SCAN PERKOIN : </label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            value="1" name="koin-group"> 1</label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            value="2" name="koin-group"> 2</label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            checked value="3" name="koin-group"> 3</label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            value="4" name="koin-group"> 4</label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            value="5" name="koin-group"> 5</label>
                                    <label class="uk-form-label uk-text-success"><input class="uk-radio" type="radio"
                                            value="6" name="koin-group"> 6</label>
                                </h5>
                                <hr />
                                <h5 style="margin: 12px 0px; color: #e4322c;">Modal DEX PLUS</h5>
                                <div class="uk-flex uk-flex-middle ">
                                    <div>
                                        <label for="mKiriKecilPLUS" class="uk-text-primary">Kiri </label>
                                        <input type="number" id="mKiriKecilPLUS" class="uk-input" value="" required>
                                    </div>
                                    <div>
                                        <label for="mKananKecilPLUS" class="uk-text-success">Kanan </label>
                                        <input type="number" id="mKananKecilPLUS" class="uk-input" value="" required>
                                    </div>

                                </div>
                                <div>
                                    <label for="jeda-time-group" class="uk-text-danger">WALLET METAMASK</label><br />
                                    <input class="uk-input" type="text" id="walletMETA" name="walletMETA">
                                </div>
                                <hr />
                                <!-- <div> -->
                                <div>
                                    <label for="jeda-time-group" class="uk-text-danger">JEDA / GROUP {150}</label><br />
                                    <input class="uk-input" id="jeda-time-group" type="number" value="150"
                                        name="jeda-time-group"> <br />

                                    <label for="jeda-koin" class="uk-text-primary">JEDA / KOIN {5}</label><br />
                                    <input class="uk-input" type="number" id="jeda-koin" value="5" name="jeda-koin">
                                </div>

                                <!-- <div> -->
                                <div style="display: none;">
                                    <label for="sc-address">SC Address:</label>
                                    <input type="text" id="sc-addresspair"
                                        value="0x55d398326f99059fF775485246999027B3197955" class="uk-input" readonly>

                                    <label for="des-pair">Des Pair:</label>
                                    <input type="text" id="des-pair" value="18" class="uk-input" readonly>

                                    <label for="symbo-pair">Symbol Pair:</label>
                                    <input type="text" id="symbol-pair" value="USDT" class="uk-input" readonly>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tombol untuk menutup modal -->
                    <p class="uk-text-right">
                        <button class="uk-button uk-button-default uk-modal-close" type="button">Tutup</button>
                        <button type="button" id="save-button" class="uk-button uk-button-primary">SIMPAN</button>
                    </p>


                </form>
            </div>
        </div>
    </div>

    <div class="uk-text-center">
        <span id="ip"></span> |
        <span>üë§<span class="username">???</span></span> | <i class="mdi mdi-lock-clock"></i> Expired : <span
            class="active_until"></span>

        <div id="preloginInfo" class="">
            Browser ini belum diizinkan untuk mengakses data. Silakan login terlebih dahulu.
        </div>
    </div>
    <div class="uk-container uk-margin-top konten">
        <form>
            <div class="uk-margin">
                <div class="uk-grid uk-child-width-1-5@s " uk-grid>
                    <!-- <div class="uk-flex uk-flex-wrap uk-grid-divider"> -->

                    <div class="uk-width-auto@m">
                        <div>
                            <label class="uk-form-label uk-text-secondary"><b>SETUP SCANNER [&nbsp;<label
                                        class="uk-form-label uk-text-danger"><label
                                            class="uk-form-label uk-text-success" id="Lwaktu-tunggu"></label> </label> ]
                                </b> </label> <br />
                            <label class="uk-form-label uk-text-success">
                                <input type="checkbox" class="uk-checkbox" id="kiriSWOOP" /> &nbsp;ADD ON <input
                                    type="checkbox" class="uk-checkbox" checked id="ls" />&nbsp;<label
                                    class="uk-form-label uk-text-danger">KIRI</label>&nbsp;
                            </label>
                            <br />
                            <label class="uk-form-label uk-text-success">
                                <input type="checkbox" class="uk-checkbox" id="kananSWOOP" /> &nbsp;ADD ON <input
                                    type="checkbox" class="uk-checkbox" checked id="rs" />&nbsp;<label
                                    class="uk-form-label uk-text-danger">KANAN</label>&nbsp;
                            </label>
                            <br />
                            <label class="uk-form-label uk-text-danger"><b>PNL :</b> </label> <label
                                class="uk-form-label uk-text-warning" id="LFilterPNL"></label>
                            <span style="cursor:help; font-size: medium;" onclick="mwt.modalInfoTime()">‚è≥Kuota:<span
                                    class="sisawaktu"><i class="mdi mdi-loading mdi-spin"></i></span></span>
                            <br />
                            <label class="uk-form-label uk-text-secondary"><b>SERVER :</b></label>
                            <label class="uk-form-label uk-text-secondary"><input class="uk-radio" type="radio"
                                    value="0" checkbox name="urlRadio"> A</label>
                            <label class="uk-form-label uk-text-secondary"><input class="uk-radio" type="radio"
                                    value="1" name="urlRadio"> B</label>
                            <label class="uk-form-label uk-text-secondary"><input class="uk-radio" type="radio"
                                    value="2" name="urlRadio"> C</label>
                            <label class="uk-form-label uk-text-secondary"><input class="uk-radio" type="radio"
                                    value="3" name="urlRadio"> D</label>

                        </div>
                    </div>


                    <div class="uk-width-auto@m">
                        <div>
                            <label class="uk-form-label uk-text-secondary"><b>PILIHAN DEX [ <label
                                        class="uk-form-label uk-text-danger" id="JmlKoin"></label> KOIN ] </b></label>
                        </div>
                        <label class="uk-form-label uk-text-primary">
                            &nbsp;<input type="checkbox" class="uk-checkbox cdx_matcha" checked id="DMATCHA" /> MATCHA
                            &nbsp;<input type="checkbox" class="uk-checkbox cdx_kyber"  id="DKYBER" /> KYBER
                            &nbsp; <input type="checkbox" class="uk-checkbox cdx_open"  id="DPARASWAP" />
                            PARA<br />
                            &nbsp;<input type="checkbox" class="uk-checkbox cdx_1inch" checked id="D1INCH" /> 1INCH
                            &nbsp;<input type="checkbox" class="uk-checkbox cdx_odos" checked id="DODOS" /> <span
                                id="modalLPODOS">&nbsp;ODOS&nbsp;</span>
                            <br />
                            <label class="uk-form-label uk-text-warning">PLUS : </label>
                            <label class="uk-form-label uk-text-primary"><input class="uk-radio" type="radio"
                                    value="unizen" name="DPLUS"> UNIZEN</label>
                            <label class="uk-form-label uk-text-primary"><input class="uk-radio" type="radio"
                                    value="lifi" name="DPLUS"> LIFI</label>
                            <label class="uk-form-label uk-text-primary"><input class="uk-radio" type="radio"
                                    value="okx" name="DPLUS"> OKEX</label>
                        </label>
                        <br />
                        <input type="checkbox" class="uk-checkbox" id="Cautorun" /> <span
                            class="uk-form-label uk-text-danger uk-text-small" id="autorun"> AUTORUN</span>
                        <button class="uk-button uk-button-small uk-button-primary" type="button" style="display: none;"
                            id="startSCAN">START</button>
                        <input type="radio" name="toggle" checked value="option2"> A <input type="radio" name="toggle"
                            value="option1"> Z
                        <button class="uk-button uk-button-small uk-button-danger" type="button" style="display: none;"
                            id="refresh">STOP</button>
                    </div>

                    <div class="uk-width-auto@m uk-width-expand@m">
                        <label class="uk-text uk-text-small uk-text-danger" id="cek"></label>
                        <div class="uk-text uk-text-small uk-text-secondary " id="info">
                            <b>1INCH</b> [ <label class="uk-text uk-text-small uk-text-primary" id="sinyal1INCH">
                            </label> ]<br />
                            <b>ODOS</b> [ <label class="uk-text uk-text-small uk-text-primary" id="sinyalODOS"> </label>
                            ]<br />
                            <b>MATCHA</b> [ <label class="uk-text uk-text-small uk-text-primary" id="sinyalMATCHA">
                            </label> ]<br />
                            <b>KYBER</b> [ <label class="uk-text uk-text-small uk-text-primary" id="sinyalKYBERSWAP">
                            </label> ]<br />
                            <b>PARASWAP</b> [ <label class="uk-text uk-text-small uk-text-primary" id="sinyalPARASWAP">
                            </label> ]<br />
                            <b><label class="uk-form-label uk-text-danger" id="infoPLUS">PLUS : </label> </b> [ <label
                                class="uk-text uk-text-small uk-text-primary" id="sinyalPLUS"> </label> ]<br />
                        </div>
                    </div>


                </div>
            </div>

        </form>

        <label class="uk-text uk-text-success" id="hasil"></label>
        <div id="scanprogress">Wait</div>
        <div id="scanbar">
            <div id="bar" style="text-align: center;"> </div>
        </div>

    </div>

    <!-- Modal LIST LP ODOS -->
    <div uk-modal id="myModalLPODOS">
        <div class="uk-modal-dialog">
            <button class="uk-modal-close-default" type="button" uk-close></button>
            <div class="uk-modal-header">
                <h5 class="uk-modal-title">LIVE :: DAFTAR LP ODOS</h5>
            </div>
            <div class="uk-modal-body">
                <div id="apiResultODOS">
                    <span id="checkboxLPODOS"></span>
                </div>
            </div>
            <div class="uk-modal-footer uk-text-right">
                <button class="uk-button uk-button-danger uk-modal-close" type="button">TUTUP</button>
                <button id="simpanlpODOS" class="uk-button uk-button-primary">SIMPAN</button>
            </div>
        </div>
    </div>

    <!-- TABEL HASIL SCANNER -->
    <div class="uk-container uk-flex-center uk-flex-middle uk-table-hover konten">
        <div class="tableFixHead table-content">
            <table class="uk-table  uk-sticky uk-table-striped-custom ">
                <thead class="custom-thead uk-overflow-auto sticky-header">
                    <!-- <div class="table-content">
                <table class="uk-table uk-sticky uk-table-striped-custom">
                    <thead class="sticky-header"> -->
                    <tr>
                        <th class="uk-text-secondary dx_1inch"> <span class="uk-badge" id="lKiri1INCHSinyal"></span>
                            1INCH</th>
                        <th class="uk-text-secondary dx_odos"> <span class="uk-badge" id="lKiriODOSSinyal"></span> ODOS
                        </th>
                        <th class="uk-text-secondary dx_matcha"> <span class="uk-badge" id="lKiriMATCHASinyal"></span>
                            MATCHA</th>
                        <th class="uk-text-secondary dx_kyber"> <span class="uk-badge" id="lKiriKYBERSWAPSinyal"></span>
                            KYBER</th>
                        <th class="uk-text-secondary dx_paraswap"> <span class="uk-badge"
                                id="lKiriPARASWAPSinyal"></span> PARASWAP</th>
                        <th class="uk-text-secondary dx_plus"> <span class="uk-badge" id="lKiriPLUSSinyal"></span>
                            DEXPLUS</th>
                        <th rowspan="2" style="background-color: #fcdb9e; color: rgb(1, 6, 10);">&nbsp;LINK
                            STOK,SC,<br />DEX & TOKEN&nbsp;</th>
                        <th class="uk-text-secondary dx_1inch"> <span class="uk-badge" id="lKanan1INCHSinyal"></span>
                            1INCH</th>
                        <th class="uk-text-secondary dx_odos"> <span class="uk-badge" id="lKananODOSSinyal"></span> ODOS
                        </th>
                        <th class="uk-text-secondary dx_matcha"> <span class="uk-badge" id="lKananMATCHASinyal"></span>
                            MATCHA </th>
                        <th class="uk-text-secondary dx_kyber"> <span class="uk-badge"
                                id="lKananKYBERSWAPSinyal"></span> KYBER </th>
                        <th class="uk-text-secondary dx_paraswap"> <span class="uk-badge"
                                id="lKananPARASWAPSinyal"></span> PARASWAP </th>
                        <th class="uk-text-secondary dx_plus"> <span class="uk-badge" id="lKananPLUSSinyal"></span>
                            DEXPLUS </th>

                    </tr>
                    <tr>
                        <th class="uk-text-secondary dx_1inch"> <span class="uk-text uk-text-small"
                                id="LmKiriKecil1INCH"></span>$</th>
                        <th class="uk-text-secondary dx_odos"> <span class="uk-text uk-text-small"
                                id="LmKiriKecilODOS"></span>$</th>
                        <th class="uk-text-secondary dx_matcha"> <span class="uk-text uk-text-small"
                                id="LmKiriKecilMATCHA"></span>$</th>
                        <th class="uk-text-secondary dx_kyber"> <span class="uk-text uk-text-small"
                                id="LmKiriKecilKYBER"></span>$</th>
                        <th class="uk-text-secondary dx_paraswap"> <span class="uk-text uk-text-small"
                                id="LmKiriKecilPARASWAP"></span>$</th>
                        <th class="uk-text-secondary dx_plus"> <span class="uk-text uk-text-small"
                                id="LmKiriKecilPLUS"></span>$</th>

                        <th class="uk-text-secondary dx_1inch"> <span class="uk-text uk-text-small"
                                id="LmKananKecil1INCH"></span>$</th>
                        <th class="uk-text-secondary dx_odos"> <span class="uk-text uk-text-small"
                                id="LmKananKecilODOS"></span>$</th>
                        <th class="uk-text-secondary dx_matcha"> <span class="uk-text uk-text-small"
                                id="LmKananKecilMATCHA"></span>$</th>
                        <th class="uk-text-secondary dx_kyber"> <span class="uk-text uk-text-small"
                                id="LmKananKecilKYBER"></span>$</th>
                        <th class="uk-text-secondary dx_paraswap"> <span class="uk-text uk-text-small"
                                id="LmKananKecilPARASWAP"></span>$</th>
                        <th class="uk-text-secondary dx_plus"> <span class="uk-text uk-text-small"
                                id="LmKananKecilPLUS"></span>$</th>

                    </tr>
                </thead>

                <tbody id="TabelBINANCE" style="text-align: center;"></tbody>
            </table>
        </div>
    </div>
    <div id="modal-login" uk-modal>
        <div class="uk-modal-dialog">
            <div class="uk-modal-header">
                <h3 class="uk-modal-title">Login</h3>
            </div>
            <div class="uk-modal-body">
                <fieldset class="uk-fieldset">
                    <div class="uk-margin">
                        <input class="uk-input" id="username" type="text" placeholder="Username" aria-label="Username">
                    </div>
                    <div class="uk-margin">
                        <input class="uk-input" id="password" type="password" placeholder="Password"
                            aria-label="Password">
                    </div>
                </fieldset>
            </div>
            <div class="uk-modal-footer uk-text-right">
                <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                <button class="uk-button uk-button-primary btn btn-success" onclick="mwt.login()">REQUEST AKSES</button>
            </div>
        </div>
    </div>
    <div id="modalInfoTime" uk-modal>
        <div class="uk-modal-dialog">
            <div class="uk-modal-header">
                <h3 class="uk-modal-title">Info Penggunaan</h3>
            </div>
            <div class="uk-modal-body modal-body">
            </div>
            <div class="uk-modal-footer uk-text-right">
                <button class="uk-button uk-button-default uk-modal-close" type="button">Tutup</button>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            //SETTING GLOBAL
            const Kode_Chain = 56;
            const Nama_Chain = "bsc";
            const URL_Chain = "https://bscscan.com";
            const Base_Chain = "BSC";
            const LinkGAS = "https://api.bscscan.com/";
            const APIGAS = "VTXAJJKJ7QUBPF8WYTQ36GD5UPM9W1J8CJ";
            const BaseFEE = "BNBUSDT";
            const DATAJSON ='https://multiscan-ruby.vercel.app/BSC/multi_bsc.json';
            const LINKWALLET ='0x8894e0a0c962cb723c1976a4421c95949be2d4e3';
            const PAIRDEX= "USDT";
            const SCPAIRDEX= "0xc2132D05D31c914a87C6611C10748AEb04B58e8F";
            const DESPAIRDEX= 6;



            var BX8_savedData = JSON.parse(localStorage.getItem('BX8_DATA_SETTING')) || {};
            var BX8_savedDataModal = JSON.parse(localStorage.getItem('BX8_DATA_MODAL')) || {};
            var BX8_savedDataID = JSON.parse(localStorage.getItem('BX8_ID'));

            var tokens = BX8_savedData.LIST_TOKEN;
            var groupSize = BX8_savedData.KoinGroup;
            var interval = BX8_savedData.jedaTimeGroup;
            var intervalKoin = BX8_savedData.jedaKoin;
            var autorun = false;

            cekDataAwal();
            setNullInfo();
            createRadioButtons();
            RadioDEXPLUS();
           

            if (BX8_savedData.waktuTunggu === '2') {
                $('#Lwaktu-tunggu').text("FAST");
            } else if (BX8_savedData.waktuTunggu === '3') {
                $('#Lwaktu-tunggu').text("MEDIUM");
            } else if (BX8_savedData.waktuTunggu === '4') {
                $('#Lwaktu-tunggu').text("NORMAL");
            }

            function checkInput() {
                var allFilled = true;
                $('#modal-setting form input[type="number"], #modal-setting form input[type="text"]').each(function() {
                if ($(this).val() === '') {
                    allFilled = false;
                    console.log('Ada input kosong atau tidak terisi ID:', this.id);
                    return false;
                }
                });
                return allFilled;
            }

            // Fungsi untuk mengaktifkan tombol save-button
            function enableSaveButton() {
                if (checkInput()) {
                $('#save-button').prop('disabled', false);
                } else {
                $('#save-button').prop('disabled', true);
                }
            }

            // Jalankan fungsi enableSaveButton pada saat awal
            enableSaveButton();

            // Jalankan fungsi enableSaveButton pada saat inputan berubah
            $('#modal-setting form input[type="number"], #modal-setting form input[type="text"]').on('input', function() {
                enableSaveButton();
            });

            // Jalankan fungsi enableSaveButton pada saat radio button berubah
            $('#modal-setting form input[type="radio"]').on('change', function() {
                enableSaveButton();
            });

            function setNullInfo() {
                localStorage.setItem('BX8_Kiri1INCHSinyal', 0);
                localStorage.setItem('BX8_Kanan1INCHSinyal', 0);

                localStorage.setItem('BX8_KiriODOSSinyal', 0);
                localStorage.setItem('BX8_KananODOSSinyal', 0);

                localStorage.setItem('BX8_KiriMATCHASinyal', 0);
                localStorage.setItem('BX8_KananMATCHASinyal', 0);

                localStorage.setItem('BX8_KiriPARASWAPSinyal', 0);
                localStorage.setItem('BX8_KananPARASWAPSinyal', 0);

                localStorage.setItem('BX8_KiriKYBERSWAPSinyal', 0);
                localStorage.setItem('BX8_KananKYBERSWAPSinyal', 0);

                localStorage.setItem('BX8_KiriPLUSSinyal', 0);
                localStorage.setItem('BX8_KananPLUSSinyal', 0);

                $("#lKiri1INCHSinyal").text("");
                $("#lKanan1INCHSinyal").text("");

                $("#lKiriODOSSinyal").text("");
                $("#lKananODOSSinyal").text("");

                $("#lKiriMATCHASinyal").text("");
                $("#lKananMATCHASinyal").text("");

                $("#lKiriPARASWAPSinyal").text("");
                $("#lKananPARASWAPSinyal").text("");

                $("#lKiriKYBERSWAPSinyal").text("");
                $("#lKananKYBERSWAPSinyal").text("");

                $("#lKiriPLUSSinyal").text("");
                $("#lKananPLUSSinyal").text("");

                $("#sinyal1INCH").text("");
                $("#sinyalODOS").text("");
                $("#sinyalMATCHA").text("");
                $("#sinyalPARASWAP").text("");
                $("#sinyalKYBERSWAP").text("");
                $("#sinyalPLUS").text("");

                var dataLPODOS = localStorage.getItem('BX8_LPODOS');
                var jumlahLPODOS = dataLPODOS ? JSON.parse(dataLPODOS).length : 0;
                $("#modalLPODOS").text("ODOS [ " + jumlahLPODOS + " ]");
            }

            // CEK SEMUA DATA AWAL
            function cekDataAwal() {
                var BX8_LPODOS = JSON.parse(localStorage.getItem('BX8_LPODOS'));
                var BX8_SERVERCORS = JSON.parse(localStorage.getItem('BX8_SERVERCORS'));
                var BX8_DATA_MASTER = JSON.parse(localStorage.getItem('BX8_DATA_MASTER'));
                var BX8_DATA_SETTING = JSON.parse(localStorage.getItem('BX8_DATA_SETTING'));
                var BX8_DATA_MODAL = JSON.parse(localStorage.getItem('BX8_DATA_MODAL'));

                // Inisialisasi status validasi
                var isDataMasterValid = true;
                var isLPODOSValid = true;
                var isServerCorsValid = true;
                var isDataSettingValid = true;
                var isDataSettingModalValid = true;

                // Validasi BX8_DATA_MASTER
                if (BX8_DATA_MASTER === null || BX8_DATA_MASTER === undefined || Object.keys(BX8_DATA_MASTER).length === 0) {
                    isDataMasterValid = false;
                    $("#cek").append("SINKRONISASI DATA DAHULU!<br/>");
                }


                // Validasi BX8_LPODOS
                if (BX8_LPODOS === null || BX8_LPODOS === undefined || Object.keys(BX8_LPODOS).length === 0) {
                    isLPODOSValid = false;
                    $("#cek").append("CEK, SETTING LP ODOS!<br/>");
                }

                // Validasi BX8_SERVERCORS
                if (BX8_SERVERCORS === null || BX8_SERVERCORS === undefined) {
                    isServerCorsValid = false;
                    $("#cek").append("CEK,PILIHAN/GANTI SERVER!<br/>");
                }

                // Validasi BX8_DATA_SETTING
                if (BX8_DATA_SETTING === null || BX8_DATA_SETTING === undefined || !BX8_DATA_SETTING.waktuTunggu || !BX8_DATA_SETTING.KoinGroup || Object.keys(BX8_DATA_SETTING).length === 0) {
                    isDataSettingValid = false;
                    $("#cek").append("CEK, SETUP SCANNER !<br/>");
                } else {
                    coinTrueStatus();
                }

                // Validasi BX8_DATA_MODAL
                if (BX8_DATA_MODAL === null || BX8_DATA_MODAL === undefined || Object.keys(BX8_DATA_MODAL).length === 0) {
                    isDataSettingModalValid = false;
                    $("#cek").append("CEK, SETTINGAN MODAL !<br/>");
                }

                // Check if any validation fails, hide the button
                if (!isDataMasterValid || !isLPODOSValid || !isServerCorsValid || !isDataSettingValid) {
                    $("button#startSCAN.uk-button.uk-button-primary").hide();
                    $("#info").hide();
                } else {
                    $("button#startSCAN.uk-button.uk-button-primary").show();
                    $("#info").hide();
                }

                if (!($("#D1INCH").prop('checked') || $("#DODOS").prop('checked') || $("#DMATCHA").prop('checked') || $("#DPARASWAP").prop('checked'))) {
                    $("#cek").append("CEK, PILIH DEX<br/>");
                    $("button#startSCAN.uk-button.uk-button-primary").hide();
                    $("#info").hide();
                }

            }

            // Function to save checkbox status DEX in local storage
            function saveDEXStatus(checkboxId, status) {
                localStorage.setItem("BX8_" + checkboxId, status);
            }

            // Function to get checkbox status from local storage
            function getDEXStatus(checkboxId) {
                return localStorage.getItem("BX8_" + checkboxId) === 'true';
            }

            function coinTrueStatus() {
                var countTrueStatus = 0;
                var coinData = BX8_savedData.LIST_TOKEN;
                $.each(coinData, function (index, coin) {
                    if (coin.status === true) {
                        countTrueStatus++;
                        var TotalCoins = parseInt(localStorage.setItem('BX8_TotalCoins', countTrueStatus));
                    }
                });
                $("label#JmlKoin").text(localStorage.getItem('BX8_TotalCoins') + "/" + groupSize);
            }

            $('label#JmlKoin').on('click', dowloadJSON);

            function dowloadJSON() {
                // Ambil data JSON dari local storage dengan key BGX_DATA_SETTING
                var gmbData = localStorage.getItem('BX8_DATA_SETTING');
                if (gmbData) {
                    // Parse JSON
                    var jsonData = JSON.parse(gmbData);
                    // Buat objek baru hanya dengan LIST_TOKEN
                    var listToken = { "LIST_TOKEN": jsonData.LIST_TOKEN };
                    // Konversi objek menjadi JSON
                    var jsonContent = JSON.stringify(listToken, null, 2);
                    // Buat elemen <a> untuk download
                    var downloadLink = document.createElement('a');
                    downloadLink.href = 'data:application/json;charset=utf-8,' + encodeURIComponent(jsonContent);
                    downloadLink.download = localStorage.getItem('BX8_TotalCoins') + "_" + "TOKEN.json";
                    downloadLink.click();
                } else {
                    alert('DATA TOKEN KOSONG');
                }

            }
            // Function to create radio buttons dynamically
            function createRadioButtons() {
                // Add event listener for radio button change
                $('input[name="urlRadio"]').on('change', function () {
                    // Store the selected URL in localStorage
                    var selectedUrl = $('input[name="urlRadio"]:checked').val();
                    localStorage.setItem('BX8_SERVERCORS', selectedUrl);
//                    toastr.success('SERVER BERUBAH KE : ', localStorage.getItem('BX8_SERVERCORS'));
                    location.reload();
                });

                // Check the last selected URL if available in localStorage
                var lastSelectedUrl = localStorage.getItem('BX8_SERVERCORS');
                if (lastSelectedUrl) {
                    $('input[name="urlRadio"][value="' + lastSelectedUrl + '"]').prop('checked', true);
                }
            }

            // SET FORM INPUT MODAL
            $('#mKiriKecil1INCH').val(BX8_savedDataModal.mKiriKecil1INCH || '');
            $('#mKananKecil1INCH').val(BX8_savedDataModal.mKananKecil1INCH || '');

            $('#mKiriKecilODOS').val(BX8_savedDataModal.mKiriKecilODOS || '');
            $('#mKananKecilODOS').val(BX8_savedDataModal.mKananKecilODOS || '');

            $('#mKiriKecilMATCHA').val(BX8_savedDataModal.mKiriKecilMATCHA || '');
            $('#mKananKecilMATCHA').val(BX8_savedDataModal.mKananKecilMATCHA || '');

            $('#mKiriKecilKYBER').val(BX8_savedDataModal.mKiriKecilKYBER || '');
            $('#mKananKecilKYBER').val(BX8_savedDataModal.mKananKecilKYBER || '');

            $('#mKiriKecilPARASWAP').val(BX8_savedDataModal.mKiriKecilPARASWAP || '');
            $('#mKananKecilPARASWAP').val(BX8_savedDataModal.mKananKecilPARASWAP || '');

            $('#mKiriKecilPLUS').val(BX8_savedDataModal.mKiriKecilPLUS || '');
            $('#mKananKecilPLUS').val(BX8_savedDataModal.mKananKecilPLUS || '');

            // SET INFO MODAL
            $('#LmKiriKecil1INCH').text(BX8_savedDataModal.mKiriKecil1INCH || '');
            $('#LmKananKecil1INCH').text(BX8_savedDataModal.mKananKecil1INCH || '');

            $('#LmKiriKecilODOS').text(BX8_savedDataModal.mKiriKecilODOS || '');
            $('#LmKananKecilODOS').text(BX8_savedDataModal.mKananKecilODOS || '');

            $('#LmKiriKecilMATCHA').text(BX8_savedDataModal.mKiriKecilMATCHA || '');
            $('#LmKananKecilMATCHA').text(BX8_savedDataModal.mKananKecilMATCHA || '');

            $('#LmKiriKecilKYBER').text(BX8_savedDataModal.mKiriKecilKYBER || '');
            $('#LmKananKecilKYBER').text(BX8_savedDataModal.mKananKecilKYBER || '');

            $('#LmKananKecilPARASWAP').text(BX8_savedDataModal.mKananKecilPARASWAP || '');
            $('#LmKiriKecilPARASWAP').text(BX8_savedDataModal.mKiriKecilPARASWAP || '');

            $('#LmKananKecilPLUS').text(BX8_savedDataModal.mKananKecilPLUS || '');
            $('#LmKiriKecilPLUS').text(BX8_savedDataModal.mKiriKecilPLUS || '');

            $('#inFilterPNL').val(BX8_savedDataModal.FilterPNL || '');

            // SET SETINGAN APLIKASI
            $('#Lsc-addresspair').val(BX8_savedData.scAddressPair || '');
            $('#Ldes-pair').val(BX8_savedData.desPair || '');
            $('#Lsymbol-pair').val(BX8_savedData.symboPair || '');
            $('#LjedaTimeGroup').text(BX8_savedData.jedaTimeGroup || '');

            $('#walletMETA').val(BX8_savedData.walletMETA || '');
            $('#jeda-time-group').val(BX8_savedData.jedaTimeGroup || '');
            $('#jeda-koin').val(BX8_savedData.jedaKoin || '');

            $("#LFilterPNL").text(" " + BX8_savedDataModal.FilterPNL + "$");

            function setMODAL() {
                var modalData = {
                    mKiriKecil1INCH: $('#mKiriKecil1INCH').val() || '',
                    mKananKecil1INCH: $('#mKananKecil1INCH').val() || '',

                    mKiriKecilODOS: $('#mKiriKecilODOS').val() || '',
                    mKananKecilODOS: $('#mKananKecilODOS').val() || '',

                    mKiriKecilMATCHA: $('#mKiriKecilMATCHA').val() || '',
                    mKananKecilMATCHA: $('#mKananKecilMATCHA').val() || '',

                    mKiriKecilKYBER: $('#mKiriKecilKYBER').val() || '',
                    mKananKecilKYBER: $('#mKananKecilKYBER').val() || '',

                    mKananKecilPARASWAP: $('#mKananKecilPARASWAP').val() || '',
                    mKiriKecilPARASWAP: $('#mKiriKecilPARASWAP').val() || '',

                    mKananKecilPLUS: $('#mKananKecilPLUS').val() || '',
                    mKiriKecilPLUS: $('#mKiriKecilPLUS').val() || '',

                    FilterPNL: $('#inFilterPNL').val() || ''
                };
                localStorage.setItem('BX8_DATA_MODAL', JSON.stringify(modalData));
            }

            function CekIdentitas() {
                var deviceID = generateDeviceID();
                console.log("Device ID:", deviceID);
                if (BX8_savedDataID) {
                    $("#ip").text("MY IP: " + BX8_savedDataID.ip);
                } else {
                    $("#ip").text("...");
                }

                function generateDeviceID() {
                    // Mendapatkan beberapa informasi yang dapat digunakan untuk membuat Device ID
                    var userAgent = navigator.userAgent;
                    var screenResolution = window.screen.width + "x" + window.screen.height;
                    var timezoneOffset = new Date().getTimezoneOffset();
                    var language = navigator.language;

                    // Menggabungkan informasi untuk membuat Device ID
                    var deviceID = userAgent + screenResolution + timezoneOffset + language;

                    // Melakukan hash pada Device ID untuk membuat ID yang lebih pendek
                    var hashedDeviceID = hashCode(deviceID);

                    return hashedDeviceID;
                }

                function hashCode(str) {
                    var hash = 0;
                    if (str.length == 0) return hash;
                    for (var i = 0; i < str.length; i++) {
                        var char = str.charCodeAt(i);
                        hash = (hash << 5) - hash + char;
                        hash = hash & hash; // Convert to 32bit integer
                    }
                    return hash;
                }

                $.ajax({
                    url: "https://api4.my-ip.io/v2/ip.json",
                    success: function (response) {
                        var simplifiedIdentitas = {
                            id: deviceID,
                            name: response.asn.name,
                            ip: response.ip
                        };

                        // Simpan data ke localStorage
                        localStorage.setItem('BX8_ID', JSON.stringify(simplifiedIdentitas));
                    },

                    error: function (error) {
                        // $("#ip").text("MY IP : ??? " );
                    },
                });
            }

            function saveFormDataSetting() {

                var existingSettingData = JSON.parse(localStorage.getItem('BX8_DATA_SETTING')) || {};

                existingSettingData.LIST_TOKEN = existingSettingData.LIST_TOKEN || [];
                existingSettingData.SERVERCORS = existingSettingData.SERVERCORS || [];

                existingSettingData.jedaTimeGroup = $('#jeda-time-group').val();
                existingSettingData.waktuTunggu = $('input[name="waktu-tunggu"]:checked').val();
                // existingSettingData.KoinGroup = 1;
                existingSettingData.KoinGroup = $('input[name="koin-group"]:checked').val();
                existingSettingData.jedaKoin = $('#jeda-koin').val();

                existingSettingData.walletMETA = $('#walletMETA').val();

                existingSettingData.scAddressPair = $('#sc-addresspair').val();
                existingSettingData.desPair = $('#des-pair').val();
                existingSettingData.symboPair = $('#symbol-pair').val();

                // Explicitly update LIST_TOKEN and SERVERCORS arrays
                existingSettingData.LIST_TOKEN = /* your logic to update LIST_TOKEN */
                    existingSettingData.SERVERCORS = /* your logic to update SERVERCORS */

                    // Save the updated data to localStorage
                    localStorage.setItem('BX8_DATA_SETTING', JSON.stringify(existingSettingData));

                setMODAL();
                // Menutup modal setelah menyimpan data
                UIkit.modal("#modal-setting").hide();

                alert("SETTING BERHASIL!!");
                location.reload();
            };

            function feeGasGwei() {
                $.getJSON('https://data-api.binance.vision/api/v3/ticker/24hr', { symbol: BaseFEE })
                    .done(function (response) {
                        localStorage.setItem('BX8_PriceGAS', response.lastPrice);
                        //GET GAS GWEI
                        /*
                        $.getJSON(LinkGAS + 'api?module=gastracker&action=gasoracle&apikey='+APIGAS)
                            .done(function (response2) {
                                localStorage.setItem('BX8_gasGWEI', response2.result.FastGasPrice);
                            })
                            .fail(function (error) {
                                console.log('Error calling GAS GWEI:', error);
                            });
                        */    
                        var gasGWEI=localStorage.setItem('BX8_gasGWEI',3);
                    })
                    .fail(function (error) {
                        console.log('Error calling MATICUSDT:', error);
                    });
            }

            function importDataJSON() {
                localStorage.removeItem('BX8_DATA_MASTER');
                localStorage.removeItem('BX8_DATA_SETTING');
                $.ajax({
                    url: DATAJSON,
                    success: function (response) {

                        var serverCORS = response.serverCORS;
                        var token = response.token;
                        var tele_token = response.telegram.token;
                        var id_grup = response.telegram.id_grup;

                        var DataJSON={
                            TOKEN:tele_token,
                            ID_GRUP:id_grup,
                            LIST_TOKEN :token,
                            SERVERCORS :serverCORS,
                            jedaKoin:10,
                            scAddressPair:SCPAIRDEX,
                            symbolPair:PAIRDEX,
                            desPair:DESPAIRDEX,
                            KoinGroup: 1,
                            jedaTimeGroup:150,
                            waktuTunggu:5,
                            FilterPNL:0,
                            DEX: ['1INCH', 'MATCHA', 'KYBER', 'PARASWAP', 'ODOS', 'PLUS']
                        }

                        localStorage.setItem('BX8_DATA_MASTER', JSON.stringify(DataJSON));
                        localStorage.setItem('BX8_DATA_SETTING', JSON.stringify(DataJSON));

                    },

                    error: function (error) {
                        alert('SYNC DATA GAGAL');
                    }
                });
            }

            // Event listener for save button click
            $('#save-button').on('click', saveFormDataSetting);
            //cek wallet binance
            $('#cek_wallet').on('click', CekWalletBinance);

            // Menampilkan modal settingan
            $("#cek-modal").on("click", function () {
                var lastSelctspeed = BX8_savedData.waktuTunggu;
                if (lastSelctspeed) {
                    $('input[name="waktu-tunggu"][value="' + lastSelctspeed + '"]').prop('checked', true);
                }

                var lastSelctspeed2 = BX8_savedData.KoinGroup;
                if (lastSelctspeed) {
                    $('input[name="koin-group"][value="' + lastSelctspeed2 + '"]').prop('checked', true);
                }
                UIkit.modal("#modal-setting").show();
            });

            $('#simpanlpODOS').click(function () {
                var checkedCheckboxes = [];
                $("#checkboxLPODOS input:checked").each(function () {
                    checkedCheckboxes.push($(this).val());
                });

                localStorage.setItem("BX8_LPODOS", JSON.stringify(checkedCheckboxes));
                alert('SETTING LP ODOS BERHASIL!!');
                location.reload();

            })

            // MEMBUAT MODAL UNTUK MENAMPILKAN LIST LP ODOS
            $('span#modalLPODOS').click(function () {
                $('#checkboxLPODOS').children().remove();

                $.ajax({
                    url: "https://worker-weathered-bar-d4fa.dadiyo8115.workers.dev/?https://api.odos.xyz/info/liquidity-sources/" + Kode_Chain + "",
                    type: "GET",
                    headers: {
                        "Accept": "application/json",
                        "Content-Type": "application/json"
                    },
                    success: function (data) {
                        var protocols = data.sources

                        data.sources.forEach(function (source, index) {
                            $('#checkboxLPODOS').append('<label> <input type="checkbox" id="checkbox' + index + '" value="' + source + '" checked> ' + source + '&nbsp;</label>');
                        });

                        UIkit.modal('#myModalLPODOS').show();

                    },
                    error: function (error) {
                        console.error("GAGAL DAPAT LP 1INCH", error);
                    }
                });
            });

            $('#syncDATA').on('click', function () {
                importDataJSON();
                // toastr.success('SINKRONISASI BERHASIL!!,<br/> LANJUTKAN KE SETTINGAN');
                Object.keys(localStorage).forEach(function (key) {
                    if (key.startsWith('BX8_')) {
                        localStorage.removeItem(key);
                    }
                });

                alert('SINKRONISASI BERHASIL, LANJUTKAN KE SETTINGAN!!');
                location.reload();
            });

            highlightEmptyInputs();
            // Function to highlight empty inputs with red background
            function highlightEmptyInputs() {
                $('.uk-input').each(function () {
                    if ($(this).val().trim() === '') {
                        $(this).toggleClass('uk-form-danger');
                    } else {
                        $(this).removeClass('uk-form-danger');
                    }
                });
            }

            // menjalankan scanning
            $("#startSCAN").on("click", function () {
                sendStatusTELE(localStorage.getItem('BX8_idserver'),'ONLINE');

                CekIdentitas();
                var selectedOption = $("input[name='toggle']:checked").val();
                if (selectedOption === "option1") {
                    // Lakukan sesuatu jika option 1 dipilih
                    tokens.reverse();
                }
                // tokens.reverse();
                $("#info").show();
                $('tbody tr').remove();
                $('input[type="checkbox"]').prop('disabled', true);
                $('input[type="radio"]').prop('disabled', true);

                var startTime = new Date().getTime();
                localStorage.setItem('BX8_startTime', startTime);
                $("#startSCAN").hide();
                $("#refresh").show();

                setNullInfo();
                mwt.scan(function () {
                    processTokenData(tokens, groupSize);
                });
                CekIdentitas();
            });

            //FUNGSI AUTORUN
            $('input#Cautorun').change(function () {
                if ($(this).is(':checked')) {
                    autorun = true;
                } else {
                    autorun = false;
                }
            });

            // FUNGSI CHECKBOX DISABLE/ENABLE  COIN           
            $(document).on('click', '.statusKoinCheckbox', function () {
                var coinData = BX8_savedData.LIST_TOKEN;
                var symbol = $(this).data('index');
                var status = $(this).prop('checked');
                var namacoin = symbol;

                coinData.find((token) => {
                    if (token.symbol == symbol) {
                        namacoin = token.symbol
                        token.status = status
                    }
                });

                alert("STATUS KOIN '" + namacoin.replace("USDT", "") + "' BERUBAH!!");
                // Save the updated data back to localStorage
                coinData = coinData;


                var existingSettingData = JSON.parse(localStorage.getItem('BX8_MASTER_SETTING')) || {};
                existingSettingData.SERVERCORS = existingSettingData.SERVERCORS || [];
                localStorage.setItem('BX8_DATA_SETTING', JSON.stringify({ ...BX8_savedData, LIST_TOKEN: coinData }));
                coinTrueStatus();
            });
            // Check the status of checkboxes and show/hide corresponding rows
            function updateTableVisibility() {
                $(".dx_1inch, .dx_odos, .dx_matcha, .dx_paraswap, .dx_kyber").hide();

                if ($('#D1INCH').is(':checked')) {
                    $(".dx_1inch").show();
                }

                if ($('#DODOS').is(':checked')) {
                    $(".dx_odos").show();
                }

                if ($('#DMATCHA').is(':checked')) {
                    $(".dx_matcha").show();
                }

                if ($('#DKYBER').is(':checked')) {
                    $(".dx_kyber").show();
                }

                if ($('#DPARASWAP').is(':checked')) {
                    $(".dx_paraswap").show();

                }

                if (localStorage.getItem('BX8_DexPLUS')) {
                    $(".dx_plus").show();
                }else{
                    $(".dx_plus").hide();
                }
            }
            // Initial visibility check
            updateTableVisibility();

            // Attach event listeners to checkbox changes
            $('#D1INCH, #DODOS, #DMATCHA, #DPARASWAP, #DKYBER').change(function () {
                updateTableVisibility();
            });

            var grupKoin = [];
            var currentGrupKoinTotalRequests = 0;
            var currentGrupKoinRequests = 0;
            var currentProcessingIndex = 0;
            // Function to divide tokens into groups and process them with intervals
            function processTokenData(tokens, groupSize) {
                localStorage.setItem("BX8_counter", 0);
                var countTrueStatus = localStorage.getItem("BX8_TotalCoins");
                var tokensWithTrueStatus = tokens.filter(function (token) {
                    return token.status === true;
                });

                // Menghitung jumlah grup yang dibutuhkan
                var numOfGroups = Math.ceil(tokensWithTrueStatus.length / groupSize);
                grupKoin = [];
                currentProcessingIndex = 0;
                for (var i = 0; i < numOfGroups; i++) {
                    var startIdx = i * groupSize;
                    var endIdx = (i + 1) * groupSize;
                    var tokenGroup = tokensWithTrueStatus.slice(startIdx, endIdx);

                    var timejeda = i * interval;
                    //digrupkan dulu
                    grupKoin.push(tokenGroup);
                }

                //jalankan grup pertama
                prosesGroup(0);
            }

            function prosesGroup(index) {
                //reset jumlah request
                currentGrupKoinRequests = 0;

                //set current index
                currentProcessingIndex = index;

                //grup koin yg saat ini diproses
                let grup = grupKoin[currentProcessingIndex];

                //hitung total request seharusnya untuk grup saat ini
                //dapatkan jmlh dex yg discan
                let jmlhModal = 0;
                if ($('#D1INCH').is(':checked')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }
                if ($('#DODOS').is(':checked')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }
                if ($('#DMATCHA').is(':checked')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }
                if ($('#DKYBER').is(':checked')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }
                if ($('#DPARASWAP').is(':checked')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }

                if (localStorage.getItem('BX8_DexPLUS')) {
                    if ($('#ls').is(':checked')) { jmlhModal++; }
                    if ($('#rs').is(':checked')) { jmlhModal++; }
                }
                console.log("jumlah cek : ", jmlhModal);

                currentGrupKoinTotalRequests = grup.length * jmlhModal;

                console.log("JUMLAH SCAN : " + currentGrupKoinTotalRequests);

                //jalankan proses anggota dari grup koin saat ini
                grup.forEach(function (token, IndexAnggota) {
                    var symbol = GantiSymbol(token.symbol, "USDT", "");
                    var counter = parseInt(localStorage.getItem('BX8_counter'));
                    var jcounter = counter + 1;
                    localStorage.setItem("BX8_counter", jcounter);
                    setTimeout(function () {
                        updateProgress(jcounter, symbol);
                        Scanning(token, IndexAnggota + 1);
                    }, BX8_savedData.jedaKoin * IndexAnggota);
                });
            }

            //fungsi ini dipanggil setiap selesai request, baik error atau ndak.
            function selesaiProsesAnggota() {
                //increment currentGrupKoinRequests
                currentGrupKoinRequests++;

                //cek apakah semua anggota sdh diproses
                if (currentGrupKoinRequests == currentGrupKoinTotalRequests) {
                    //semua anggota sudah diproses. lanjutkan prosesGroup berikutnya
                    //tapi cek dulu, apakah grupKoin berikutnya masih ada
                    if (currentProcessingIndex < grupKoin.length && mwt.run) {
                        setTimeout(function () {
                            prosesGroup(currentProcessingIndex + 1);
                        }, BX8_savedData.jedaTimeGroup);
                    }
                }
            }

            function GantiSymbol(simbol, awal, akhir) {
                if (simbol.endsWith(awal)) {
                    var pasanganPerdagangan = simbol.replace(awal, akhir);
                    return pasanganPerdagangan;
                }
                return simbol;
            }

            function checkStatusKoin(coin) {
                // Mendapatkan data dari localStorage
                const walletData = JSON.parse(localStorage.getItem("BX8_WALLETFEEWD"));

                // Mencari koin yang sesuai dengan parameter coin
                const selectedCoin = walletData.find(function (item) {
                    return item.coin === coin;
                });
                // Jika koin ditemukan
                if (selectedCoin) {
                    // Tentukan status deposit dan withdraw
                    var depositStatus = selectedCoin.depositEnable ? "Aktif" : "Tidak aktif";
                    var withdrawStatus = selectedCoin.withdrawEnable ? "Aktif" : "Tidak aktif";

                    // Tentukan warna dan tulisan untuk deposit dan withdraw
                    var dpColor = selectedCoin.depositEnable ? "primary" : "danger";
                    var dpText = selectedCoin.depositEnable ? "[DP]" : "DX";
                    var wdColor = selectedCoin.withdrawEnable ? "primary" : "danger";
                    var wdText = selectedCoin.withdrawEnable ? "[WD]" : "WX";

                    // Tampilkan label deposit dan withdraw dengan warna yang sesuai
                    var dpLabel = '<span class="uk-text-' + dpColor + '">' + dpText + '</span>';
                    var wdLabel = '<span class="uk-text-' + wdColor + '">' + wdText + '</span>';
                    $("#wallet_" + coin).html(wdLabel + "<span style='color:red;'> " + coin + " </span>" + dpLabel);

                } else {
                    console.log("Koin " + coin + " tidak ditemukan dalam data.");
                }
            }

            // Fungsi pertama untuk memanggil REST API
            function getPriceBinance(coins, modal, index, callback) {
                const walletData = JSON.parse(localStorage.getItem("BX8_WALLETFEEWD"));
                if (walletData === null) {
                    toastr.error("REFRESH & UPDATE FEE WD DAHULU!<br/>");
                }
                var symbol2 = GantiSymbol(coins.symbol, "USDT", "");
                // Mencari koin yang sesuai dengan parameter coin
                const selectedCoin = walletData.find(function (item) {
                    return item.coin === symbol2;
                });

                if (selectedCoin) {
                    var withdrawFee = selectedCoin.feeWDs;
                } else {
                }
                $.ajax({
                    url: 'https://data-api.binance.vision/api/v3/ticker/bookTicker?symbol=' + coins.symbol + '',
                    method: 'GET',
                    success: function (data) {
                        // Callback dengan hasil dari pemanggilan API pertama
                        var dataOUT = {
                            price_buy: data.askPrice,
                            price_sell: data.bidPrice,
                            feeWD: withdrawFee * data.askPrice,
                            modal: modal,
                            volsell: data.askQty,
                            volbuy: data.bidQty,
                            amount_in: modal / data.askPrice,
                        };
                        callback(null, dataOUT);
                    },
                    error: function (error) {
                        callback('Error calling API pertama: ' + error);
                        selesaiProsesAnggota();
                    }
                });
            }

            function cekHarga1INCH(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, ServerCORS) {
                var Kiri1INCHSinyal = parseInt(localStorage.getItem('BX8_Kiri1INCHSinyal'));
                var Kanan1INCHSinyal = parseInt(localStorage.getItem('BX8_Kanan1INCHSinyal'));
                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var ServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;

                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var apiUrl = "https://api-defillama.1inch.io/v5.2/" + Kode_Chain + "/quote?src=" + sc_input + "&dst=" + sc_output + "&amount=" + amount_in + "&includeGas=true";

                $.ajax({
                    url: apiUrl,
                    method: "GET",
                    headers: {
                        "Accept": "application/json",
                        'Content-Type': "application/json; charset=utf-8"
                    },
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('load..');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response) {
                                // Tangani kasus ketika status 200 tapi tidak ada respons
                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=# title='NO RESPONSE'>ERROR-X</a>");
                            } else {
                                //console.log(response)
                                var amount_out = parseFloat(response.toAmount) / Math.pow(10, des_output);
                                var FeeSwap = ((response.gas / Math.pow(10, 9) * localStorage.getItem('BX8_gasGWEI'))) * localStorage.getItem('BX8_PriceGAS');

                                if (action == "sell") {
                                    var PNL = parseFloat(amount_out - modal);
                                    var priceDEX = (amount_out / (modal / price)).toFixed(9);

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    var selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_1inch", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("1INCH", "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action == "buy") {

                                    var priceDEX = parseFloat(modal / amount_out).toFixed(9);
                                    var PNL = parseFloat(((modal / priceDEX) * price) - modal);

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);
                                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;

                                    EntryTable(action, "mk_1inch_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("1INCH", "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);

                                }

                                if (BX8_savedDataModal.FilterPNL == 0) {
                                    $('#LFilterPNL').text('> FEE');
                                    var filterPNLValue = totalFee + 0.05;
                                } else {
                                    var filterPNLValue = parseFloat(BX8_savedDataModal.FilterPNL);
                                }

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_1inch", "1INCH", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "1INCH", 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_1inch_bin", "1INCH", symbol2, PNL, totalFee)
                                        MultisendMessage(Nama_Chain, "1INCH", 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                } else {
                                    var warna = "";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=https://app.1inch.io/#/" + Kode_Chain + "/advanced/swap/" + sc_input + "/" + sc_output + " target=_blank>" + priceDEX + "</a></br>" + PNL + "");
                                var currentRow = $("#dex_" + action + "_" + posisi).toggleClass(warna);
                                currentRow.append();
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        if (status === "timeout") {
                            var warna = "merah";
                            var alert = " DI SKIP ";
                        } else if (xhr.status === 0) {
                            var warna = "merah";
                            var alert = "NOL RESPONSE - SERING SCAN";
                        } else if (xhr.status == 200) {
                            var warna = "merah";
                            var alert = "RESPONSE KOSONG";
                        } else if (xhr.status == 429) {
                            var warna = "merah";
                            var alert = "KENA LIMIT";
                        } else if (xhr.status === 403) {
                            var warna = "merah";
                            var alert = "TERBLOKIR"
                        } else if (xhr.status === 401) {
                            var warna = "merah";
                            var alert = "GAGAL RESPON"
                        } else if (xhr.status === 404) {
                            var warna = "merah";
                            var alert = "Permintaan tidak ditemukan";
                        } else if (xhr.status === 400) {
                            var warna = "merah";
                            var errorResponse = JSON.parse(xhr.responseText);
                            if (errorResponse && errorResponse.description == "insufficient liquidity") {
                                var alert = "NO LP";
                            } else {
                                var alert = "KONEKSI BURUK";
                            }
                        }
                        else if (xhr.status === 500) {
                            var warna = "merah";
                            var alert = "Kesalahan server internal";
                        } else if (xhr.status === 503) {
                            var warna = "merah";
                            var alert = "Layanan tidak tersedia";
                        } else if (xhr.responseJSON && xhr.responseJSON.error) {
                            var alert = xhr.responseJSON.error;
                        } else {
                            var warna = "merah";
                            var alert = xhr.status;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        }

                        if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }
                        var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=https://app.1inch.io/#/" + Kode_Chain + "/advanced/swap/" + sc_input + "/" + sc_output + " title='" + alert + "' target=_blank>ERROR</a>").toggleClass(warna);
                        currentRow.append();
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    },
                });
            }

            function cekHargaODOS(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, ServerCORS) {
                var listlpodos = JSON.parse(localStorage.getItem("BX8_LPODOS"));
                var KiriODOSSinyal = parseInt(localStorage.getItem('BX8_KiriODOSSinyal'));
                var KananODOSSinyal = parseInt(localStorage.getItem('BX8_KananODOSSinyal'));
                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var ServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;

                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var apiUrl = "https://api.odos.xyz/sor/quote/v2";
                var requestData = {
                    chainId: Kode_Chain,
                    inputTokens: [
                        {
                            amount: amount_in.toString(),
                            tokenAddress: sc_input,
                        },
                    ],
                    outputTokens: [
                        {
                            proportion: 1,
                            tokenAddress: sc_output,
                        },
                    ],
                    sourceWhitelist: listlpodos,
                    referralCode: 0,
                    slippageLimitPercent: 0.3,
                };

                $.ajax({
                    url: apiUrl,
                    type: "POST",
                    dataType: "json",
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    contentType: "application/json",
                    data: JSON.stringify(requestData),
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('load..');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response) {
                                // Tangani kasus ketika status 200 tapi tidak ada respons
                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=# title='NO RESPONSE'>ERROR</a>").toggleClass("limit");
                            }
                            else {
                                //console.log(response)
                                var amount_out = response.outValues;
                                var FeeSwap = response.gasEstimateValue;

                                if (action == "sell") {
                                    var PNL = Number(amount_out - modal);
                                    var priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(9);

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    var selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_odos", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("ODOS", "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action == "buy") {

                                    var amount_out = parseFloat(response.outAmounts) / Math.pow(10, des_output);
                                    var priceDEX = parseFloat(modal / amount_out).toFixed(9);
                                    var PNL = ((modal / priceDEX) * price) - modal;

                                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;
                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);

                                    EntryTable(action, "mk_odos_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("ODOS", "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (BX8_savedDataModal.FilterPNL == 0) {
                                    $('#LFilterPNL').text('> FEE');
                                    var filterPNLValue = totalFee + 0.05;
                                } else {
                                    var filterPNLValue = parseFloat(BX8_savedDataModal.FilterPNL);
                                }

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_odos", "ODOS", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "ODOS", 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_odos_bin", "ODOS", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "ODOS", 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";

                                } else {
                                    var warna = "";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://app.odos.xyz target=_blank>" + priceDEX + "</a></br>" + PNL + "");
                                var currentRow = $("#dex_" + action + "_" + posisi).toggleClass(warna);
                                currentRow.append();
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna = "merah";
                        if (status === "timeout") {
                            var warna = "merah";
                            var alert = "DI SKIP";
                        } else if (xhr.status == 400) {
                            var errorResponse = JSON.parse(xhr.responseText);
                            var alert = errorResponse.detail;
                        } else if (xhr.status == 429) {
                            var warna = "merah";
                            var alert = " KENA LIMIT ";
                        } else if (xhr.status == 200) {
                            var warna = "merah";
                            var alert = "NO RESPONSE";
                        } else if (xhr.status == 0) {
                            var warna = "merah";
                            var alert = "NO RESPONSE";
                        } else {
                            var alert = xhr.status;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        }

                        if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }

                        var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=https://app.odos.xyz title='" + alert + "' target=_blank>ERROR</a>").toggleClass(warna);
                        currentRow.append();
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    },
                });
            }

            function cekHargaMATCHA(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, key, wd) {
                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var KiriMATCHASinyal = parseInt(localStorage.getItem('BX8_KiriMATCHASinyal'));
                var KananMATCHASinyal = parseInt(localStorage.getItem('BX8_KananMATCHASinyal'));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var apiUrl = "https://" + Nama_Chain + ".api.0x.org/swap/v1/quote?buyToken=" + sc_output + "&sellToken=" + sc_input + "&sellAmount=" + amount_in;

                $.ajax({
                    url: apiUrl,
                    method: 'GET',
                    headers: {
                        '0x-api-key': key,
                    },
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('load..');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response) {
                                // Tangani kasus ketika status 200 tapi tidak ada respons
                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=# title='NO RESPONSE'>ERROR</a>").toggleClass("limit");
                            } else {
                                //console.log(response)
                                var amount_out = response.buyAmount / Math.pow(10, des_output);
                                var FeeSwap = ((response.estimatedGas / Math.pow(10, 9)) * localStorage.getItem('BX8_gasGWEI')) * localStorage.getItem('BX8_PriceGAS');

                                if (action == "sell") {

                                    var PNL = Number(amount_out - modal);
                                    var priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(9);;

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    var selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_matcha", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("MATCHA", "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);

                                }

                                if (action == "buy") {

                                    var amount_out = parseFloat(response.buyAmount) / Math.pow(10, des_output);
                                    var priceDEX = parseFloat(modal / amount_out).toFixed(9);
                                    var PNL = ((modal / priceDEX) * price) - modal;

                                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;
                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);

                                    EntryTable(action, "mk_matcha_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("MATCHA", "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (BX8_savedDataModal.FilterPNL == 0) {
                                    $('#LFilterPNL').text('> FEE');
                                    var filterPNLValue = totalFee + 0.05;
                                } else {
                                    var filterPNLValue = parseFloat(BX8_savedDataModal.FilterPNL);
                                }

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_matcha", "MATCHA", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "MATCHA", 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_matcha_bin", "MATCHA", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "MATCHA", 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";

                                } else {
                                    var warna = "";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://matcha.xyz/tokens/" + Nama_Chain + "/" + sc_input.toLowerCase() + "?buyChain=" + Kode_Chain + "&buyAddress=" + sc_output.toLowerCase() + " target=_blank>" + priceDEX + "</a></br>" + PNL + "");
                                var currentRow = $("#dex_" + action + "_" + posisi).toggleClass(warna);
                                currentRow.append();
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna = "merah";
                        if (status === "timeout") {
                            var warna = "merah";
                            var alert = " DI SKIP ";
                        } else if (xhr.status == 400) {
                            var errorResponse = JSON.parse(xhr.responseText);
                            //var alert = "NO LP";  
                            var alert = errorResponse;
                        } else if (xhr.status == 429) {
                            var warna = "merah";
                            var alert = " KENA LIMIT ";
                        } else if (xhr.status == 200) {
                            var warna = "merah";
                            var alert = " NO RESPONSE";
                        } else if (xhr.status == 0) {
                            var alert = " CORS";
                        } else {
                            var alert = xhr.status;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        }

                        if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }
                        var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://matcha.xyz/tokens/" + Nama_Chain + "/" + sc_input + " title='" + alert + "' target=_blank>ERROR</a>").toggleClass(warna);
                        currentRow.append();
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    },
                });
            }

            function cekHargaKYBER(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, ServerCORS) {
                var amount_in = amount;
                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var KiriKYBERSWAPSinyal = parseInt(localStorage.getItem('BX8_KiriKYBERSWAPSinyal'));
                var KananKYBERSWAPSinyal = parseInt(localStorage.getItem('BX8_KananKYBERSWAPSinyal'));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var ServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;

                var apiUrl = BX8_savedData.SERVERCORS[ISERVERCORS][ServerCORS] + "https://aggregator-api.kyberswap.com/" + Nama_Chain + "/route/encode?tokenIn=" + sc_input + "&tokenOut=" + sc_output + "&amountIn=" + amount_in + "&to=0x2315FAa4CE7A4cEA50Ae9DEC252Be620c6e454ca&saveGas=0&gasInclude=1&slippageTolerance=1&clientData={%22source%22:%22DefiLlama%22}";
                $.ajax({
                    url: apiUrl,
                    method: 'GET',
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('load..');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response) {
                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=# title='NO RESPONSE'>ERROR</a>").toggleClass("limit");
                            } else {
                                //console.log(response)
                                var amount_out = response.outputAmount / Math.pow(10, des_output);
                                var FeeSwap = ((response.totalGas / Math.pow(10, 9)) * localStorage.getItem('BX8_gasGWEI')) * localStorage.getItem('BX8_PriceGAS');

                                if (action == "sell") {
                                    var PNL = Number(amount_out - modal);
                                    var priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(8);;

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    var selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_kyberswap", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("KYBER", "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action == "buy") {
                                    var priceDEX = parseFloat(modal / amount_out).toFixed(9);
                                    var PNL = (amount_out * price) - modal;

                                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;
                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);

                                    EntryTable(action, "mk_kyberswap_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("KYBER", "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (BX8_savedDataModal.FilterPNL == 0) {
                                    $('#LFilterPNL').text('> FEE');
                                    var filterPNLValue = totalFee + 0.05;
                                } else {
                                    var filterPNLValue = parseFloat(BX8_savedData.FilterPNL);
                                }

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_kyberswap", "KYBERSWAP", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "KYBERSWAP", 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_kyberswap_bin", "KYBERSWAP", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, "KYBERSWAP", 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";

                                } else {
                                    var warna = "";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt target=_blank>" + priceDEX + "</a></br>" + PNL + "");
                                var currentRow = $("#dex_" + action + "_" + posisi).toggleClass(warna);
                                currentRow.append();
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna = "merah";
                        if (status === "timeout") {
                            var warna = "merah";
                            var alert = " DI SKIP ";
                        } else if (xhr.status == 400) {
                            var errorResponse = JSON.parse(xhr.responseText);
                            var alert = errorResponse;
                        } else if (xhr.status == 429) {
                            var alert = "LIMITED";
                        } else if (xhr.status == 200) {
                            var warna = "merah";
                            var alert = " NO RESPONSE";
                        } else if (xhr.status == 0) {
                            var alert = " CORS";
                        } else {
                            var alert = xhr.status;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        }

                        if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }

                        var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt title='" + alert + "' target=_blank>ERROR</a>").toggleClass(warna);
                        currentRow.append();
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    },
                });
            }

            function cekHargaPARA(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, ServerCORS) {
                var amount_in = amount;
                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var KiriPARASWAPSinyal = parseInt(localStorage.getItem('BX8_KiriPARASWAPSinyal'));
                var KananPARASWAPSinyal = parseInt(localStorage.getItem('BX8_KananPARASWAPSinyal'));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var ServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;

                var apiUrl = "https://apiv5.PARASWAP.io/prices/?" + "srcToken=" + sc_input + "&srcDecimals=" + des_input + "&destToken=" + sc_output + "&destDecimals=" + des_output + "&side=SELL&network=" + Kode_Chain + "&amount=" + amount_in + "&version=6.2";

                $.ajax({
                    url: apiUrl,
                    method: 'GET',
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('load..');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response) {
                                var currentRow = $("#dex_" + action + "_" + posisi).html("<a href=# title='NO RESPONSE'>ERROR</a>").toggleClass("limit");
                            } else {
                                //console.log(response)
                                var amount_out = response.priceRoute.destAmount / Math.pow(10, des_output);
                                var FeeSwap = parseFloat(response.priceRoute.gasCostUSD);

                                if (action == "sell") {
                                    var PNL = Number(amount_out - modal);
                                    var priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(8);;

                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    var selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_paraswap", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("PARA", "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action == "buy") {
                                    var priceDEX = parseFloat(modal / amount_out).toFixed(9);
                                    var PNL = (amount_out * price) - modal;

                                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;
                                    var totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);

                                    EntryTable(action, "mk_paraswap_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi("PARA", "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (BX8_savedDataModal.FilterPNL == 0) {
                                    $('#LFilterPNL').text('> FEE');
                                    var filterPNLValue = totalFee + 0.05;
                                } else {
                                    var filterPNLValue = parseFloat(BX8_savedData.FilterPNL);
                                }

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_paraswap", "PARASWAP", symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, 'PARASWAP', 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_paraswap_bin", "PARASWAP", symbol2, PNL, totalFee)
                                        MultisendMessage(Nama_Chain, 'PARASWAP', 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";

                                } else {
                                    var warna = "";
                                    var PNL = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://app.paraswap.io/#/" + sc_input + "-" + sc_output + "SELL?version=6.2&network=" + Nama_Chain + "" + symbol2 + "-to-usdt target=_blank>" + priceDEX + "</a></br>" + PNL + "");
                                var currentRow = $("#dex_" + action + "_" + posisi).toggleClass(warna);
                                currentRow.append();
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna = "merah";
                        if (status === "timeout") {
                            var warna = "merah";
                            var alert = " DI SKIP ";
                        } else if (xhr.status == 400) {
                            var errorResponse = JSON.parse(xhr.responseText);
                            var alert = errorResponse;
                        } else if (xhr.status == 429) {
                            var alert = "LIMITED";
                        } else if (xhr.status == 200) {
                            var warna = "merah";
                            var alert = " NO RESPONSE";
                        } else if (xhr.status == 0) {
                            var alert = " CORS";
                        } else {
                            var alert = xhr.status;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        }

                        if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }

                        var currentRow = $("#dex_" + action + "_" + posisi).html("  <a href=https://app.paraswap.io/#/" + symbol2 + "-to-usdt title='" + alert + "' target=_blank>ERROR</a>").toggleClass(warna);
                        currentRow.append();
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    },
                });
            }

            function cekHargaSWOOP(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, cex, PriceRate, ServerCORS) {
                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var adjustedServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;
                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var payload = {
                    "chainId": Kode_Chain,
                    "aggregatorSlug": cex,
                    "sender": BX8_savedData.walletMETA,
                    "inToken": {
                        "chainId": Kode_Chain,
                        "type": "TOKEN",
                        "address": sc_input,
                        "decimals": parseFloat(des_input)
                    },
                    "outToken": {
                        "chainId": Kode_Chain,
                        "type": "TOKEN",
                        "address": sc_output,
                        "decimals": parseFloat(des_output)
                    },
                    "amountInWei": String(amount_in),
                    "slippageBps": "100",
                    // "gasPriceGwei": Number(localStorage.getItem('BX8_gasGWEI')),
                };

                $.ajax({
                    //                url: BX8_savedData.SERVERCORS[ISERVERCORS][adjustedServerCORS] + 'https://swoop-backend.up.railway.app/swap',
                    url: 'https://swoop-backend.up.railway.app/swap',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(payload),
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('Load...');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response || xhr.status === 0) {
                                $("#dex_" + action + "_" + posisi).html("<a href='#' title='NO RESPONSE'>ERROR</a>").toggleClass("error");
                            } else {
                                // console.log(response)
                                var amount_out = parseFloat(response.amountOutWei) / Math.pow(10, des_output);
                                var FeeSwap, PNL, priceDEX, totalFee, selisihPersen;

                                // Inisialisasi priceDEX
                                priceDEX = '';

                                if (action === "sell") {
                                   // FeeSwap = ((response.feeWei / Math.pow(10, 9)) * localStorage.getItem('BX8_gasGWEI')) * localStorage.getItem('BX8_PriceGAS');
                                    FeeSwap = ((response.feeWei / Math.pow(10, 18))/ localStorage.getItem('BX8_gasGWEI') );
                                    PNL = parseFloat((amount_out) - modal);
                                    priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(8);
                                    totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_" + cex, symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi(cex.toUpperCase(), "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action === "buy") {
                                    FeeSwap = ((response.feeWei / Math.pow(10, des_output)) * price)/ localStorage.getItem('BX8_gasGWEI');
                                    priceDEX = parseFloat(modal / amount_out).toFixed(8);
                                    PNL = parseFloat(((modal / priceDEX) * price) - modal);
                                    totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);
                                    selisihPersen = ((price - priceDEX) / priceDEX) * 100;

                                    EntryTable(action, "mk_" + cex + "_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi(cex.toUpperCase(), "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                var filterPNLValue = (BX8_savedDataModal.FilterPNL == 0) ? (totalFee + 0.05) : parseFloat(BX8_savedDataModal.FilterPNL);

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_" + cex, cex, symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, cex.toUpperCase(), 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_" + cex + "_bin", cex, symbol2, PNL, totalFee)
                                        MultisendMessage(Nama_Chain, cex.toUpperCase(), 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }
                                    var warna = "ijo";
                                    var PNLText = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                } else {
                                    var warna = "";
                                    var PNLText = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var dexURL = {
                                    'kyberswap': "https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt",
                                    'odos': "https://app.odos.xyz",
                                    'paraswap': "https://app.paraswap.io/#/" + sc_input + "-" + sc_output + "/BUY?version=6.2&network=" + Nama_Chain + ""
                                }[cex] || "https://app.swoop.exchange";

                                $("#dex_" + action + "_" + posisi).html("<a href='" + dexURL + "' target='_blank'>" + priceDEX + "</a></br>" + PNLText).toggleClass(warna);
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna, alert;
                        switch (xhr.status) {
                            case 0:
                                warna = "merah";
                                alert = "NOL RESPONSE - SERING SCAN";
                                break;
                            case 200:
                                warna = "merah";
                                alert = "RESPONSE KOSONG";
                                break;
                            case 429:
                                warna = "merah";
                                alert = "KENA LIMIT";
                                break;
                            case 403:
                                warna = "merah";
                                alert = "AKSES DIBLOK";
                                break;
                            case 404:
                                warna = "merah";
                                alert = "Permintaan tidak ditemukan";
                                break;
                            case 400:
                                warna = "merah";
                                alert = "KONEKSI BURUK";
                                break;
                            case 500:
                                warna = "merah";
                                alert = "" + (xhr.responseJSON && xhr.responseJSON.message ? xhr.responseJSON.message : "GAGAL DAPATKAN DATA");
                                break;
                            case 503:
                                warna = "merah";
                                alert = "Layanan tidak tersedia";
                                break;
                            default:
                                warna = "merah";
                                alert = "Status: " + xhr.status;
                                break;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        } else if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }

                        var dexURL = {
                            'kyberswap': "https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt",
                            'odos': "https://app.odos.xyz",
                            'paraswap': "https://app.paraswap.io/#/" + sc_input + "-" + sc_output + "/BUY?version=6.2&network=" + Nama_Chain + ""
                        }[cex] || "https://app.swoop.exchange";

                        $("#dex_" + action + "_" + posisi).html("<a href='" + dexURL + "' title='" + alert + "' target='_blank'>" + "ERROR").toggleClass(warna);
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    }
                });
            }

            function cekHargaDEXPLUS(modal, sc_input, des_input, sc_output, des_output, amount, price, action, symbol, posisi, wd, cex, PriceRate, ServerCORS) {
                var amount_in = Math.pow(10, des_input) * amount;
                var amount_in = BigInt(Math.round(Number(amount_in)));

                var symbol2 = GantiSymbol(symbol, "USDT", "");
                var symbol1 = GantiSymbol(symbol, "USDT", "_USDT");

                var adjustedServerCORS = (action === "sell") ? (parseInt(ServerCORS) + parseInt(groupSize)) : ServerCORS;
                var ISERVERCORS = parseInt(localStorage.getItem('BX8_SERVERCORS'));

                var payload = {
                    "chainId": Kode_Chain,
                    "aggregatorSlug": cex,
                    "sender": BX8_savedData.walletMETA,
                    "inToken": {
                        "chainId": Kode_Chain,
                        "type": "TOKEN",
                        "address": sc_input,
                        "decimals": parseFloat(des_input)
                    },
                    "outToken": {
                        "chainId": Kode_Chain,
                        "type": "TOKEN",
                        "address": sc_output,
                        "decimals": parseFloat(des_output)
                    },
                    "amountInWei": String(amount_in),
                    "slippageBps": "100",
                    // "gasPriceGwei": Number(localStorage.getItem('BX8_gasGWEI')),
                };

                $.ajax({
                    //                url: BX8_savedData.SERVERCORS[ISERVERCORS][adjustedServerCORS] + 'https://swoop-backend.up.railway.app/swap',
                    url: 'https://swoop-backend.up.railway.app/swap',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(payload),
                    timeout: parseInt(BX8_savedData.waktuTunggu) * 1000,
                    beforeSend: function () {
                        $("#dex_" + action + "_" + posisi).html('Load...');
                    },
                    success: function (response, textStatus, xhr) {
                        setTimeout(function () {
                            if (xhr.status === 200 && !response || xhr.status === 0) {
                                $("#dex_" + action + "_" + posisi).html("<a href='#' title='NO RESPONSE'>ERROR</a>").toggleClass("error");
                            } else {
                                console.log(response)
                                var amount_out = parseFloat(response.amountOutWei) / Math.pow(10, des_output);
                                var FeeSwap, PNL, priceDEX, totalFee, selisihPersen;

                                // Inisialisasi priceDEX
                                priceDEX = '';

                                if (action === "sell") {
                                    FeeSwap = ((response.feeWei / Math.pow(10, 18))/ localStorage.getItem('BX8_gasGWEI') );
                                    PNL = parseFloat((amount_out) - modal);
                                    priceDEX = ((Number(modal) + PNL) / (modal / price)).toFixed(8);
                                    totalFee = parseFloat(modal * 0.001) + parseFloat(wd) + parseFloat(FeeSwap);
                                    selisihPersen = ((priceDEX - price) / price) * 100;

                                    EntryTable(action, "mk_bin_plus", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi(localStorage.getItem('BX8_DexPLUS').toUpperCase(), "KIRI", symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                if (action === "buy") {
                                    FeeSwap = ((response.feeWei / Math.pow(10, des_output)) * price)/ localStorage.getItem('BX8_gasGWEI');
                                    priceDEX = parseFloat(modal / amount_out).toFixed(8);
                                    PNL = parseFloat(((modal / priceDEX) * price) - modal);
                                    totalFee = parseFloat(modal * 0.001) + parseFloat(FeeSwap);
                                    selisihPersen = ((price - priceDEX) / priceDEX) * 100;

                                    EntryTable(action, "mk_plus_bin", symbol1, symbol2, price, wd, FeeSwap, totalFee);

                                    LogEksekusi(localStorage.getItem('BX8_DexPLUS').toUpperCase(), "KANAN", symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee, wd, selisihPersen);
                                }

                                var filterPNLValue = (BX8_savedDataModal.FilterPNL == 0) ? (totalFee + 0.05) : parseFloat(BX8_savedDataModal.FilterPNL);

                                if (PNL > filterPNLValue) {
                                    if (action === "sell") {
                                        InfoSinyal('Kiri', 'sell', "mk_bin_plus", 'PLUS', symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, localStorage.getItem('BX8_DexPLUS').toUpperCase(), 'KIRI', symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
                                    } else if (action === "buy") {
                                        InfoSinyal('Kanan', 'buy', "mk_plus_bin", 'PLUS', symbol2, PNL, totalFee);
                                        MultisendMessage(Nama_Chain, localStorage.getItem('BX8_DexPLUS').toUpperCase(), 'KANAN', symbol2, modal, PNL, priceDEX, price, FeeSwap, totalFee);
                                    }

                                    var warna = "ijo";
                                    var PNLText = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-label uk-label-success'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                } else {
                                    var warna = "";
                                    var PNLText = "<span class='uk-text-warning'>PNL:</span>" + PNL.toFixed(2) + "#<span class='uk-text-danger'>" + (PNL - totalFee).toFixed(2) + "</span>";
                                }

                                var dexURL = {
                                    'kyberswap': "https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt",
                                    'odos': "https://app.odos.xyz",
                                    'paraswap': "https://app.paraswap.io/#/" + sc_input + "-" + sc_output + "/BUY?version=6.2&network=" + Nama_Chain + ""
                                }[cex] || "https://app.swoop.exchange";

                                $("#dex_" + action + "_" + posisi).html("<a href='" + dexURL + "' target='_blank'>" + priceDEX + "</a></br>" + PNLText).toggleClass(warna);
                            }
                        }, 0);
                    },
                    error: function (xhr, status, error) {
                        var warna, alert;
                        switch (xhr.status) {
                            case 0:
                                warna = "merah";
                                alert = "NOL RESPONSE - SERING SCAN";
                                break;
                            case 200:
                                warna = "merah";
                                alert = "RESPONSE KOSONG";
                                break;
                            case 429:
                                warna = "merah";
                                alert = "KENA LIMIT";
                                break;
                            case 403:
                                warna = "merah";
                                alert = "AKSES DIBLOK";
                                break;
                            case 404:
                                warna = "merah";
                                alert = "Permintaan tidak ditemukan";
                                break;
                            case 400:
                                warna = "merah";
                                alert = "KONEKSI BURUK";
                                break;
                            case 500:
                                warna = "merah";
                                alert = "" + (xhr.responseJSON && xhr.responseJSON.message ? xhr.responseJSON.message : "GAGAL DAPATKAN DATA");
                                break;
                            case 503:
                                warna = "merah";
                                alert = "Layanan tidak tersedia";
                                break;
                            default:
                                warna = "merah";
                                alert = "Status: " + xhr.status;
                                break;
                        }

                        if (action === "buy") {
                            $("#cex_sell_" + posisi).addClass(warna);
                        } else if (action === "sell") {
                            $("#cex_buy_" + posisi).addClass(warna);
                        }

                        var dexURL = {
                            'kyberswap': "https://kyberswap.com/swap/" + Nama_Chain + "/" + symbol2 + "-to-usdt",
                            'odos': "https://app.odos.xyz",
                            'paraswap': "https://app.paraswap.io/#/" + sc_input + "-" + sc_output + "/BUY?version=6.2&network=" + Nama_Chain + ""
                        }[cex] || "https://app.swoop.exchange";

                        $("#dex_" + action + "_" + posisi).html("<a href='" + dexURL + "' title='" + alert + "' target='_blank'>" + "ERROR").toggleClass(warna);
                    },
                    complete: function () {
                        selesaiProsesAnggota();
                    }
                });
            }

            function RadioDEXPLUS() {

                $('input[name="DPLUS"]').change(function () {
                    var selectedValue = $('input[name="DPLUS"]:checked').val();
                    localStorage.setItem('BX8_DexPLUS', selectedValue);
                    toastr.success('DEX PLUS BERUBAH : ' + localStorage.getItem('BX8_DexPLUS').toUpperCase());
                });

                var storedValue = localStorage.getItem('BX8_DexPLUS');
                if (storedValue) {
                    // Menampilkan elemen tertentu berdasarkan nilai
                    if (storedValue === 'unizen') {
                        $(".dx_plus").show();
                        $('input[name="DPLUS"][value="unizen"]').prop('checked', true);
                    } else if (storedValue === 'lifi') {
                        $(".dx_plus").show();
                        $('input[name="DPLUS"][value="lifi"]').prop('checked', true);
                    } else if (storedValue === 'okx') {
                        $(".dx_plus").show();
                        $('input[name="DPLUS"][value="okx"]').prop('checked', true);
                    } else {
                        $(".dx_plus").hide();
                    }
                } else {
                    $(".dx_plus").hide(); // Sembunyikan jika tidak ada nilai
                }
            }

            function Scanning(coins, index) {
                feeGasGwei();

                var statusChecked = coins.status ? 'checked' : '';
                var symbol1 = GantiSymbol(coins.symbol, "USDT", "_USDT");
                var symbol2 = GantiSymbol(coins.symbol, "USDT", "");

                var linkStok = ' [ <a href='+URL_Chain+'/token/' + coins.sc + '?a='+LINKWALLET+' target="_blank"> STOK </a> ]';

                if ($('#ls').is(':checked')) {
                    if ($('#D1INCH').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecil1INCH, index + 1, function (error, result) {
                            cekHarga1INCH(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_1inch_" + symbol2 + "", result.feeWD, index, result.volsell, function (error, response) {
                                console.warn(symbol2 + "DONE KIRI KECIL 1INCH!");
                            });
                        });

                    }
                    if ($('#DODOS').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecilODOS, index + 1, function (error, result) {
                            if ($('#kiriSWOOP').is(':checked')) {
                                cekHargaSWOOP(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_odos_" + symbol2 + "", result.feeWD, "odos", result.PriceRate, index, function (error, response) { });
                            } else {
                                cekHargaODOS(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_odos_" + symbol2 + "", result.feeWD, index, result.volsell, function (error, response) { });
                            }
                        });
                    }
                    if ($('#DMATCHA').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecilMATCHA, index + 1, function (error, result) {
                            cekHargaMATCHA(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_matcha_" + symbol2 + "", "6f5d5c4d-bfdd-4fc7-8d3f-d3137094feb5", result.feeWD, result.volsell, function (error, response) {
                                console.warn(symbol2 + "DONE KIRI KECIL MATCHA!");
                            });
                        });
                    }
                    if ($('#DKYBER').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecilKYBER, index + 1, function (error, result) {
                            if (!error) {
                                if (result !== null) {
                                    if ($('#kiriSWOOP').is(':checked')) {
                                        cekHargaSWOOP(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_kyberswap_" + symbol2 + "", result.feeWD, "kyberswap", result.PriceRate, index, function (error, response) { });
                                    } else {
                                        cekHargaKYBER(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_kyberswap_" + symbol2 + "", result.feeWD, index, result.volsell, function (error, response) { });
                                    }
                                }
                            }
                        });
                    }
                    if ($('#DPARASWAP').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecilPARASWAP, index + 1, function (error, result) {
                            if ($('#kiriSWOOP').is(':checked')) {
                                cekHargaSWOOP(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_paraswap_" + symbol2 + "", result.feeWD, "paraswap", result.PriceRate, index, function (error, response) { });
                            } else {
                                cekHargaPARA(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_paraswap_" + symbol2 + "", result.feeWD, "paraswap", index, result.PriceRate, function (error, response) { });
                            }
                        });
                    }
                    //CEK DEXPLUS KIRI
                    if (localStorage.getItem('BX8_DexPLUS')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKiriKecilPLUS, index + 1, function (error, result) {
                            cekHargaDEXPLUS(result.modal, coins.sc, coins.desimal, BX8_savedData.scAddressPair, BX8_savedData.desPair, result.amount_in, result.price_buy, "sell", coins.symbol, "mk_bin_plus_" + symbol2 + "", result.feeWD, localStorage.getItem('BX8_DexPLUS'), result.PriceRate, index, function (error, response) { });
                        });
                    }
                    //  else {
                    //     toastr.error("DEXPLUS Belum DIPILIH");
                    // }
                }

                //cek harga modal kecil dari kanan
                if ($('#rs').is(':checked')) {
                    if ($('#D1INCH').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecil1INCH, index + 1, function (error, result) {
                            if (!error) {
                                cekHarga1INCH(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecil1INCH, result.price_sell, "buy", coins.symbol, "mk_1inch_bin_" + symbol2 + "", result.feeWD, index, function (error, response) {
                                });
                            } else {
                                console.error(error);
                            }
                        });
                    }
                    if ($('#DODOS').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecilODOS, index + 1, function (error, result) {
                            if (!error) {
                                if ($('#kananSWOOP').is(':checked')) {
                                    cekHargaSWOOP(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilODOS, result.price_sell, "buy", coins.symbol, "mk_odos_bin_" + symbol2 + "", result.feeWD, "odos", result.PriceRate2, index, function (error, response) { });
                                } else {
                                    cekHargaODOS(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilODOS, result.price_sell, "buy", coins.symbol, "mk_odos_bin_" + symbol2 + "", result.feeWD, index, function (error, response) { });
                                }
                            } else {
                                console.error(error);
                            }
                        });
                    }
                    if ($('#DMATCHA').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecilMATCHA, index + 1, function (error, result) {
                            cekHargaMATCHA(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilMATCHA, result.price_sell, "buy", coins.symbol, "mk_matcha_bin_" + symbol2 + "", "6f5d5c4d-bfdd-4fc7-8d3f-d3137094feb5", result.feeWD, function (error, response) {
                            });
                        });
                    }
                    if ($('#DKYBER').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecilKYBER, index + 1, function (error, result) {
                            if ($('#kananSWOOP').is(':checked')) {
                                cekHargaSWOOP(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilKYBER, result.price_sell, "buy", coins.symbol, "mk_kyberswap_bin_" + symbol2 + "", result.feeWD, "kyberswap", result.PriceRate2, index, function (error, response) { });
                            } else {
                                cekHargaKYBER(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilKYBER, result.price_sell, "buy", coins.symbol, "mk_kyberswap_bin_" + symbol2 + "", result.feeWD, index, function (error, response) { });
                            }
                        });
                    }
                    if ($('#DPARASWAP').is(':checked')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecilPARASWAP, index + 1, function (error, result) {
                            if (!error) {
                                if ($('#kananSWOOP').is(':checked')) {
                                    cekHargaSWOOP(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilPARASWAP, result.price_sell, "buy", coins.symbol, "mk_paraswap_bin_" + symbol2 + "", result.feeWD, "paraswap", result.PriceRate, index, function (error, response) { });
                                } else {
                                    cekHargaPARA(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilPARASWAP, result.price_sell, "buy", coins.symbol, "mk_paraswap_bin_" + symbol2 + "", result.feeWD, "paraswap", result.PriceRate2, index, function (error, response) { });
                                }
                            } else {
                                console.error(error);
                            }
                        });
                    }
                    //CEK DEXPLUS KANAN
                    if (localStorage.getItem('BX8_DexPLUS')) {
                        getPriceBinance(coins, BX8_savedDataModal.mKananKecilPLUS, index + 1, function (error, result) {
                            cekHargaDEXPLUS(result.modal, BX8_savedData.scAddressPair, BX8_savedData.desPair, coins.sc, coins.desimal, BX8_savedDataModal.mKananKecilPLUS, result.price_sell, "buy", coins.symbol, "mk_plus_bin_" + symbol2 + "", result.feeWD, localStorage.getItem('BX8_DexPLUS'), result.PriceRate, index, function (error, response) {
                            });
                        });
                    } 
                    // else {
                    //     toastr.error("DEXPLUS Belum DIPILIH");
                    // }
                }
                var linkDefillama = "<a href=https://swap.defillama.com/?chain=" + Nama_Chain + "&from=" + coins.sc + "&to=" + BX8_savedData.scAddressPair + " target=_blank> DEFILLAMA</a>";
                var linkUNIDEX = "<a href=https://app.unidex.exchange/?chain=" + Nama_Chain + "&from=" + coins.sc + "&to=" + BX8_savedData.scAddressPair + " target=_blank> UNIDEX</a>";
                var linkSWOOP = "<a href=https://app.swoop.exchange/?ref=C7D7FB0B target=_blank> SWOOP </a>";

                $("#TabelBINANCE").append(
                    "<tr>" +
                    "<td  class=dx_1inch id=cex_buy_mk_bin_1inch_" + symbol2 + "></td>" +
                    "<td  class=dx_odos id=cex_buy_mk_bin_odos_" + symbol2 + "></td>" +
                    "<td  class=dx_matcha id=cex_buy_mk_bin_matcha_" + symbol2 + "></td>" +
                    "<td  class=dx_kyber id=cex_buy_mk_bin_kyberswap_" + symbol2 + "></td>" +
                    "<td  class=dx_paraswap id=cex_buy_mk_bin_paraswap_" + symbol2 + "></td>" +
                    "<td  class=dx_plus id=cex_buy_mk_bin_plus_" + symbol2 + "></td>" +
                    "<td valign=middle rowspan=2 style=background-color:#fcdb9e;><b> <span id=wallet_" + symbol2 + ">" + symbol2 + "</span> </b></br>  <input type=checkbox class=statusKoinCheckbox data-index=" + coins.symbol + "  " + statusChecked + ">" + linkStok + " <a href=" + URL_Chain + "/token/" + coins.sc + " target=_blank>[SC] </a> <br/> " + linkDefillama + "<br/> " + linkUNIDEX + " | " + linkSWOOP + "</td>" +
                    "<td  class=dx_1inch id=dex_buy_mk_1inch_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_odos id=dex_buy_mk_odos_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_matcha id=dex_buy_mk_matcha_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_kyber id=dex_buy_mk_kyberswap_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_paraswap id=dex_buy_mk_paraswap_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_plus id=dex_buy_mk_plus_bin_" + symbol2 + "></td>" +

                    "</tr>" +
                    "<tr>" +
                    "<td  class=dx_1inch id=dex_sell_mk_bin_1inch_" + symbol2 + "></td>" +
                    "<td  class=dx_odos id=dex_sell_mk_bin_odos_" + symbol2 + "></td>" +
                    "<td  class=dx_matcha id=dex_sell_mk_bin_matcha_" + symbol2 + "></td>" +
                    "<td  class=dx_kyber id=dex_sell_mk_bin_kyberswap_" + symbol2 + "></td>" +
                    "<td  class=dx_paraswap id=dex_sell_mk_bin_paraswap_" + symbol2 + "></td>" +
                    "<td  class=dx_plus id=dex_sell_mk_bin_plus_" + symbol2 + "></td>" +
                    // "<td>xxxxxx</td>" +                    
                    "<td  class=dx_1inch id=cex_sell_mk_1inch_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_odos id=cex_sell_mk_odos_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_matcha id=cex_sell_mk_matcha_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_kyber id=cex_sell_mk_kyberswap_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_paraswap id=cex_sell_mk_paraswap_bin_" + symbol2 + "></td>" +
                    "<td  class=dx_plus id=cex_sell_mk_plus_bin_" + symbol2 + "></td>" +
                    "</tr>"
                );

                updateTableVisibility();
                checkStatusKoin(symbol2);

            }

            function updateProgress(totalscanned, token) {
                var countTrueStatus = localStorage.getItem("BX8_TotalCoins");

                var mulai = parseInt(localStorage.getItem('BX8_startTime'));
                var endTime = new Date().getTime(); // Waktu akhir setelah panggilan REST API berhasil

                var duration = (endTime - mulai) / 1000; // Durasi panggilan API dalam milidetik
                localStorage.setItem("BX8_duration", duration);


                var perulangan = totalscanned / countTrueStatus;
                $('#scanprogress').html('CHECK - ' + token + ' [ ' + totalscanned + ' / ' + countTrueStatus + ' coin] :: DURASI [' + parseFloat(duration / 60).toFixed(2) + ' Menit]').css("color", "blue");
                $('#bar').css('width', (totalscanned / countTrueStatus * 100) + '%');

                if (totalscanned >= countTrueStatus) {
                    //proses scan selesai
                    mwt.stop();

                    if (autorun == true) {
                        mwt.scan(function () {
                            $('#scanprogress').html('Mengulangi scanning dalam 10 detik.');

                            setTimeout(function () {
                                $('tbody tr').remove();
                                var startTime = new Date().getTime();
                                localStorage.setItem('BX8_startTime', startTime);

                                setNullInfo()
                                processTokenData(tokens, groupSize);
                            }, 10000);
                        });
                    } else {
                        $('#scanprogress').html('SCANNING SELESAI!! DURASI [' + parseFloat(duration / 60).toFixed(2) + ' Menit]');
                        $("button#startSCAN.uk-button.uk-button-primary").show();
                        $("#info").show();
                        $("#refresh").hide();
                    }
                }
            }

            $("#refresh").click(function () {
                location.reload();
                //toastr.success('REFRESH DONE!!');
                alert("REFRESH AKAN DILAKUKAN...!!");
                $("button#startSCAN.uk-button.uk-button-primary").hide();
                $("#info").hide();
            });

            function LogEksekusi(dex, posisi, token, modal, PNL, priceBUY, priceSELL, FeeSwap, totalFee, wd, selisihPersen) {
                console.log("---- " + dex.toUpperCase() + " # " + posisi + " : " + token + " ---  ");
                console.log(" MODAL : " + modal);
                console.log(" PRICE BUY : " + priceBUY);
                console.log(" PRICE SELL : " + priceSELL);
                console.log(" PNL : " + PNL);
                console.log(" FILTER PNL : " + BX8_savedDataModal.FilterPNL);
                console.log(" TOTAL FEE : " + totalFee);
                console.log(" FEE WD : " + wd);
                console.log(" FEE SWAP : " + FeeSwap);
                console.log(" PNL NETTO : " + (Number(PNL) - Number(totalFee)));
                console.log(" PERSEN : " + selisihPersen);
                console.log("-------------------------  ");
            }

            function EntryTable(action, posisi, symbol1, symbol2, price, wd, FeeSwap, totalFee) {
                if (action == "sell") {
                    $("#cex_buy_" + posisi + "_" + symbol2 + "").html("<a href=https://www.binance.com/en/trade/" + symbol1 + "?type=spot target=_blank ><label class=uk-text-primary>" + price + " </label></a> <a href=https://www.binance.com/en/my/wallet/account/main/withdrawal/crypto/" + symbol2 + " target=_blank> <br/> <label class=uk-text-primary>WD:" + (wd).toFixed(2) + "#SW:" + (FeeSwap).toFixed(3) + "</label> </a>");
                }

                if (action == "buy") {
                    $("#cex_sell_" + posisi + "_" + symbol2 + "").html("<a href=https://www.binance.com/en/trade/" + symbol1 + "?type=spot target=_blank ><label class=uk-text-danger>" + price + "</a> </label> <a href=https://www.binance.com/en/my/wallet/account/main/deposit/crypto/" + symbol2 + " target=_blank> <br/> <label class=uk-text-secondary>DP:</label><label class=uk-text-danger>-" + totalFee.toFixed(2) + "#SW:" + parseFloat(FeeSwap).toFixed(3) + "</label></a>");
                }

            }

            function InfoSinyal(side, action, posisi, DEXPLUS, symbol2, PNL, totalFee, Nama_Chain,) {
                var newLocalStorageKey = 'BX8_' + side + DEXPLUS + 'Sinyal';
                var newElementID = '#l' + side + DEXPLUS + 'Sinyal';

                var currentSinyal = parseInt(localStorage.getItem(newLocalStorageKey) || "0", 10);
                var newSinyal = currentSinyal + 1;

                localStorage.setItem(newLocalStorageKey, newSinyal);
                $(newElementID).text(localStorage.getItem(newLocalStorageKey));

                var sLink = action === "sell" ? "<a href='#cex_buy_" + posisi + "_"+symbol2+"' class='sell-link'>" + symbol2 + "</a>" :
                    "<a href='#cex_sell_" + posisi + "_"+symbol2+"' class='buy-link'>" + symbol2 + "</a>";
                $("#sinyal" + DEXPLUS).append(' ' + sLink + ':' + (PNL - totalFee).toFixed(1) + '$ |');
                $("a." + (action === "sell" ? 'sell-link' : 'buy-link')).css('color', action === "sell" ? 'green' : 'red');
                $("#cex_" + (action === "sell" ? 'buy' : 'sell') + "_" + posisi+ "_"+symbol2+"").addClass('ijo');

                // MultisendMessage(Nama_Chain, DEXPLUS, side, symbol2, modal, PNL, price, priceDEX, FeeSwap, totalFee);
            }

            function sendStatusTELE(user, status) {
                var users = [
                    { chat_id: BX8_savedData.ID_GRUP }
                ];

                var token = BX8_savedData.TOKEN;
                var apiUrl = 'https://api.telegram.org/bot' + token + '/sendMessage';

                // Ambil data dari localStorage dan parse sebagai JSON object
                var data = JSON.parse(localStorage.getItem('X8_ID'));

                var message = " #" + user.toUpperCase() + " is <b>[ " + status + " ]</b>" +
                    "\n <b> MARKET : " +Nama_Chain.toUpperCase()+' BINANCE</b>'+
                    "\n <b> ID UNIX : </b>" + data.id +
                    "\n <b> PROVIDER : </b> " + data.name +
                    "\n <b> IP : </b>" + data.ip+
                    "\n ----------------------------------------------";

                // Loop melalui daftar pengguna
                for (var i = 0; i < users.length; i++) {
                    var user = users[i];
                    var chatId = user.chat_id; // Ganti dengan ID chat pengguna

                    // Membuat permintaan POST menggunakan jQuery
                    $.ajax({
                    url: apiUrl,
                    method: "POST",
                    data: {
                        chat_id: chatId,
                        text: message,
                        parse_mode: "HTML",
                        disable_web_page_preview: true
                    },
                    success: function(response) {
                        // console.log("Message sent successfully");
                    },
                    error: function(xhr, status, error) {
                        console.log("Error sending message:", error);
                    }
                    });
                }
            }

            function MultisendMessage(chain, dex, posisi, token, modal, PNL, priceBUY, priceSELL, FeeSwap, totalFee) {
                var source = posisi === "KIRI" 
                    ? "<b>#BINANCE >>  " + dex.toUpperCase() + "</b>" 
                    : posisi === "KANAN" 
                    ? "<b>#" + dex.toUpperCase() + " >> BINANCE</b>" 
                    : "<b>Unknown Position</b>";

                var opit=Number(PNL)-Number(totalFee);    

                var message =
                    "<b>#" + Nama_Chain.toUpperCase() + "</b> ~ " + localStorage.getItem('X8_idserver') +
                    " \n ----------------------------------------- \n SOURCE: " +source+
                    " \n TOKEN: <b>#" + token + "</b> " +" | PROFIT: <b>" + opit.toFixed(2)  + "$ </b> " +
                    " \n MODAL: <b> " + modal + "$</b> | PNL: <b>" + PNL.toFixed(2) + "$ </b> " +
                    " \n <b>BUY: </b> " + priceBUY + "" +
                    " \n <b>SELL: </b>" + priceSELL + " " +
                    " \n FEETOTAL: <b>" + totalFee.toFixed(2) + "$</b> | SWAP:<b>" + FeeSwap.toFixed(2) + "$</b>" +
                    " \n -----------------------------------------";

                var users = [
                    // { chat_id: 13706074884 },                
                    { chat_id: BX8_savedData.ID_GRUP }
                ];

                var token = BX8_savedData.TOKEN;
                var apiUrl = 'https://api.telegram.org/bot' + token + '/sendMessage';

                // Loop melalui daftar pengguna
                for (var i = 0; i < users.length; i++) {
                    var user = users[i];
                    var chatId = user.chat_id; // Ganti dengan ID chat pengguna

                    // Membuat permintaan POST menggunakan jQuery
                    $.ajax({
                        url: apiUrl,
                        method: "POST",
                        data: {
                            chat_id: chatId,
                            text: message,
                            parse_mode: "HTML",
                            disable_web_page_preview: true
                        },
                        success: function (response) {
                            // console.log("Message sent successfully");
                        },
                        error: function (xhr, status, error) {
                            // console.log("Error sending message:", error);
                        }
                    });
                }
            }


            function calculateSignature(query_string) {
                const secretKey = "XHjPVjLzbs741xoznV3xz1Wj5SFrcechNBjvezyXLcg8GLWF21VW32f0YhAsQ9pn";
                const signature = CryptoJS.HmacSHA256(query_string, secretKey).toString(CryptoJS.enc.Hex);
                return signature;
            }

            function CekWalletBinance() {
                const apiKey = '2U7YGMEUDri6tP3YEzmK3CcZWb9yQ5j3COp9s7pRRUv4vu8hJAlwH4NkbNK74hDU';
                const timestamp = Date.now().toString();
                const queryString = `timestamp=${timestamp}`;
                const signature = calculateSignature(queryString);

                const apiUrl = "https://1.iiknrbtxoz.workers.dev/?https://api.binance.me/sapi/v1/capital/config/getall";

                $.ajax({
                    url: `${apiUrl}?timestamp=${timestamp}&signature=${signature}`,
                    method: "GET",
                    headers: {
                        "X-MBX-APIKEY": apiKey,
                    },
                    success: function (data) {
                        toastr.success('UPDATE WALLET BINANCE BERHASIL!!');
                        // Filter data untuk coin dengan network matic
                        const coinsWithNetwork = data.filter(function (item) {
                            return item.networkList.some(function (network) {
                                return network.network === Base_Chain;
                            });
                        });

                        // Ambil hanya koin beserta status deposit dan withdraw untuk jaringan 
                        const coinDepositWithdrawStatus = coinsWithNetwork.map(function (item) {
                            const Network = item.networkList.find(function (network) {
                                return network.network === Base_Chain;
                            });

                            return {
                                coin: item.coin,
                                feeWDs: Network ? Network.withdrawFee : 0,
                                depositEnable: Network ? Network.depositEnable : false,
                                withdrawEnable: Network ? Network.withdrawEnable : false
                            };
                        });

                        // Simpan data pada localStorage
                        localStorage.setItem("BX8_WALLETFEEWD", JSON.stringify(coinDepositWithdrawStatus));

                    },
                    error: function (xhr, status, error) {
                        toastr.error('UPDATE WALLET GAGAL, MASALAH KONEKSI!!');
                    }
                });
            }


        });

        const mwt = {
            app_version: '4.2.0',
            allowed: false,
            mwtUsername: null,
            mwtPassword: null,
            mwtToken: null,
            run: false,
            stopwatch: 0,
            watcherRunning: false,
            dateTimer: window.localStorage.getItem('mwDateTimer'),
            mwtIdentifier: window.localStorage.getItem('mwIdentifier'),
            dailyLimit: 0,
            startTimer: 0,
            tick: 0,
            scanlog: [],
            scanHash: "",
            scanSession: null,
            getTimer: function () {
                return window.localStorage.getItem('mwTimer') || 0;
            },
            setTimer: function (timer) {
                window.localStorage.setItem('mwTimer', timer);
            },
            getDailyTimer: function () {
                return window.localStorage.getItem('mwDailyTimer') || 0;
            },
            setDailyTimer: function (dailyTimer) {
                window.localStorage.setItem('mwDailyTimer', dailyTimer);
            },
            setDateTimer: function (dateTimer) {
                window.localStorage.setItem('mwDateTimer', dateTimer);
            },
            getDateTimer: function () {
                return window.localStorage.getItem('mwDateTimer');
            },
            getHistory: function () {
                let history = window.localStorage.getItem('mwHistory');
                if (history == null) {
                    history = [];
                } else {
                    history = JSON.parse(history);
                }
                return history;
            },
            addHistory: function (data) {
                let history = this.getHistory();
                history.push(data);
                window.localStorage.setItem('mwHistory', JSON.stringify(history));
            },
            clearHistory: function () {
                window.localStorage.removeItem('mwHistory');
            },
            init: function () {
                this.ticktock();
                if (!this.mwtIdentifier) {
                    this.mwtIdentifier = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                    window.localStorage.setItem('mwIdentifier', this.mwtIdentifier);
                }
                mwtToken = window.localStorage.getItem('mwToken');
                mwtUsername = window.localStorage.getItem('mwUsername');
                mwtPassword = window.localStorage.getItem('mwPassword');
                // mwtteleId = DATA.ID_TELE;
                localStorage.setItem('BX8_idserver', mwtUsername);
                $('#username').val(mwtUsername);
                $('#password').val(mwtPassword);
                // $('#teleId').val(mwtteleId);
                if (mwtToken != null) {
                    this.login();
                }
                if (this.getDateTimer() == null) {
                    const currentDate = new Date();
                    const year = currentDate.getFullYear();
                    const month = (currentDate.getMonth() + 1).toString().padStart(2, '0'); // Months are zero-based
                    const day = currentDate.getDate().toString().padStart(2, '0');
                    this.setDateTimer(`${year}${month}${day}`);
                }
            },
            ticktock: function () {
                window.setTimeout(function () {
                    mwt.tick++;
                    mwt.ticktock();
                }, 1000);
            },
            login: function () {
                const self = this;
                $.ajax({
                    url: "https://mwatcher.gemaulamaputra.id/api/login",
                    type: "POST",
                    data: {
                        username: $('#username').val(),
                        password: $('#password').val(),
                        identifier: this.mwtIdentifier,
                        app_version: this.app_version,
                    },
                    beforeSend: function () {
                        self.allowed = false;
                    },
                    success: function (response) {
                        let datechanged = false;
                        if (response.status == 'ok') {
                            $('#preloginInfo').html("Login berhasil! Menunggu izin dari server <i class='mdi mdi-loading mdi-spin'></i>");

                            self.mwtUsername = $('#username').val();
                            self.mwtPassword = $('#password').val();
                            self.mwtToken = btoa(JSON.stringify({ username: self.mwtUsername, password: self.mwtPassword }));
                            window.localStorage.setItem('mwToken', self.mwtToken);
                            window.localStorage.setItem('mwUsername', self.mwtUsername);
                            window.localStorage.setItem('mwPassword', self.mwtPassword);
                            UIkit.modal('#modal-login').hide();
                            toastr.success('Login berhasil!');
                            //copy teleid
                            //   let idtele = $('#teleId').val();
                            //   DATA.ID_TELE = idtele;
                            //   localStorage.setItem('B_DATA_SETTING', JSON.stringify(DATA));
                            //   $('#idtele').val(DATA.ID_TELE);
                            $('.username').html(self.mwtUsername);
                            if (response.allow) {
                                $('.konten').show();
                            }
                            if (self.getDateTimer() != response.server_date) {
                                self.setDateTimer(response.server_date);
                                self.setTimer(response.scan_timer);
                                datechanged = true;
                                self.stop();
                                self.clearHistory();
                            }
                            self.setDailyTimer(response.daily_timer);
                            if (!self.watcherRunning) {
                                self.watch();
                            }
                            if (datechanged) {
                                //refresh page
                                window.location.reload();
                            }
                        } else {
                            self.allowed = false;
                            toastr.error('Login gagal! ' + response.message);
                            $("button#startSCAN.uk-button.uk-button-primary").hide();
                        }
                    },
                    error: function (response) {
                        self.allowed = false;
                        toastr.error('Login gagal! ' + response.responseText);
                        $("button#startSCAN.uk-button.uk-button-primary").hide();
                    }
                });
            },
            scan: function (callback) {
                const self = this;
                let payload = JSON.stringify({
                    identifier: this.mwtIdentifier,
                    time: new Date().getTime(),
                });
                payload = btoa(payload);
                $.ajax({
                    url: "https://mwatcher.gemaulamaputra.id/api/scan",
                    type: "POST",
                    headers: {
                        'Authorization': "Bearer " + this.mwtToken,
                    },
                    data: {
                        payload: payload,
                    },
                    beforeSend: function () {
                        self.allowed = false;
                    },
                    success: function (response) {
                        let datechanged = false;
                        if (response.status == 'ok') {
                            self.allowed = true;
                            if (self.getDateTimer() != response.server_date) {
                                self.setDateTimer(response.server_date);
                                self.setTimer(response.scan_timer);
                                datechanged = true;
                                self.stop();
                                self.clearHistory();
                            }
                            if (self.getTimer() < response.scan_timer) {
                                self.setTimer(response.scan_timer);
                            }
                            self.setDailyTimer(response.daily_timer);

                            if (datechanged) {
                                //refresh page
                                window.location.reload();
                            } else if (callback) {
                                self.start();
                                callback();
                            }
                        } else {
                            self.allowed = false;
                            toastr.error('Kesalahan: ' + response.message);
                        }
                    },
                    error: function (response) {
                        self.allowed = false;
                        toastr.error('Kesalahan: ' + response.responseText);
                    }
                });
            },
            watch: function (oneoff = false) {
                this.watcherRunning = true;
                const self = this;
                let payload = JSON.stringify({
                    identifier: mwt.mwtIdentifier,
                    time: new Date().getTime(),
                    timer: this.getTimer(),
                    run: this.run,
                    dateTimer: this.getDateTimer(),
                    app_version: this.app_version,
                });
                payload = btoa(payload);
                $.ajax({
                    url: "https://mwatcher.gemaulamaputra.id/api/watch2",
                    type: "POST",
                    headers: {
                        'Authorization': "Bearer " + this.mwtToken,
                    },
                    data: {
                        payload: payload
                    },
                    beforeSend: function () {
                    },
                    success: function (response) {
                        let datechanged = false;
                        if (response.status == 'ok') {
                            if (self.allowed == false) {
                                toastr.success('Izin diberikan!');
                                $('#preloginInfo').hide();

                            }
                            self.allowed = true;
                            if (self.getDateTimer() != response.server_date) {
                                self.setDateTimer(response.server_date);
                                self.setTimer(response.scan_timer);
                                datechanged = true;
                                self.stop();
                                self.clearHistory();
                            }
                            if (self.getTimer() < response.scan_timer) {
                                self.setTimer(response.scan_timer);
                            }
                            self.dailyLimit = response.daily_limit;
                            if (response.cmdstop) {
                                self.stop();
                            }
                            self.setDailyTimer(response.daily_timer);
                            $('.active_until').html(response.active_until);
                            $('.sisawaktu').html(self.sisaWaktu());
                            $('.konten').show();
                        } else {
                            self.stop();
                            if (self.allowed == true) {
                                toastr.error('Izin dicabut!');
                                $('#preloginInfo').show();
                                $("button#startSCAN.uk-button.uk-button-primary").hide();
                            }
                            self.allowed = false;

                            $('.konten').hide();
                        }
                        if (datechanged) {
                            //refresh page
                            window.location.reload();
                        } else {
                            if (!oneoff) {
                                setTimeout(function () {
                                    self.watch();
                                }, (self.run ? 2000 : 2000));
                            }
                        }
                    },
                    error: function (response) {
                        self.stop();
                        self.allowed = false;
                        $('.konten').hide();
                        if (!oneoff) {
                            setTimeout(function () {
                                self.watch();
                            }, (self.run ? 2000 : 10000));
                        }
                    },
                });
            },
            start: function () {
                const self = this;
                this.run = true;
                this.startTimer = this.getTimer();
                //get current unix timestamp in seconds
                this.tstopwatch = Math.round(new Date().getTime() / 1000);
                this.stopwatch = this.tick;
                this.scanSession = new Date().toLocaleString();
                return {
                    'start': this.startTimer,
                }
            },
            stop: function () {
                if (this.run) {
                    this.run = false;
                    //get current timestamp
                    const now = this.tick;
                    //get difference
                    let tdiff = Math.round(new Date().getTime() / 1000) - this.tstopwatch;
                    let diff = now - this.stopwatch;
                    if (tdiff > diff) {
                        diff = tdiff;
                    }
                    this.stopwatch = now;
                    //add to timer
                    // let pengurang = 0;
                    // if(this.startTimer < this.getTimer()){
                    //   pengurang = this.getTimer() - this.startTimer;
                    // }
                    // let newTimer = parseInt(this.getTimer()) + parseInt(diff) - parseInt(pengurang);
                    let newTimer = parseInt(this.getTimer()) + parseInt(diff);
                    //persist timer
                    this.setTimer(newTimer);
                    //add history if scanSession is not null
                    if (this.scanSession != null) {
                        this.addHistory({
                            'time': this.scanSession,
                            'elapse': diff,
                            'timer': this.getTimer(),
                        });
                        this.scanSession = null;
                    }
                    return {
                        'start': this.startTimer,
                        'stop': this.getTimer(),
                        'elapse': diff,
                        'timer': this.getTimer(),
                    };
                }
            },
            modalInfoTime() {
                $.ajax({
                    url: "https://mwatcher.gemaulamaputra.id/api/getInfoTime",
                    type: "GET",
                    dataType: "html",
                    headers: {
                        'Authorization': "Bearer " + this.mwtToken,
                    },
                    data: {
                        identifier: this.mwtIdentifier,
                    },
                    beforeSend: function () {
                        $('#modalInfoTime .modal-body').html('<i class="mdi mdi-loading mdi-spin"></i> Memuat');
                        UIkit.modal('#modalInfoTime').show();
                    },
                    success: function (response) {
                        $('#modalInfoTime .modal-body').html(response);
                    },
                    error: function (response) {
                        UIkit.modal('#modalInfoTime').hide();
                        toastr.error('Kesalahan: ' + response.responseText);
                    }
                })
            },
            selisih: function () {

            },
            sisaWaktu: function () {
                let remainingSeconds = this.dailyLimit - this.getDailyTimer();
                let hours = Math.floor(remainingSeconds / 3600);
                remainingSeconds = remainingSeconds % 3600;
                let minutes = Math.floor(remainingSeconds / 60);
                let seconds = remainingSeconds % 60;
                return hours + ":" + minutes + ":" + seconds;
            }

        };
        $(document).ready(function () {
            mwt.init();
        });
        $(window).bind('beforeunload', function () {
            //confirm
            mwt.stop();
        });
    </script>

</body>

</html>
